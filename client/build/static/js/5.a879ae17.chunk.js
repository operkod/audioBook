(this.webpackJsonpAudioBoock=this.webpackJsonpAudioBoock||[]).push([[5],{464:function(e,t,a){},465:function(e,t,a){},473:function(e,t,a){"use strict";a.r(t);var n=a(117),o=a(67),r=a(47),s=(a(464),a(0)),c=a.n(s),u=a(61),i=(a(465),a(363)),l=a(4),b=a.n(l),d=a(3),j=i.a.TextArea,p=function(e){var t=e.name,a=e.value,n=e.placeholder,o=e.error,r=e.minRows,s=void 0===r?1:r,c=e.maxRows,u=void 0===c?1:c,i=e.label,l=e.styleProp,p=e.onChange,m=e.onBlur;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{id:t,className:b()("input__label",{"input__label-error":o[t].status}),children:o[t].status?o[t].text:i}),Object(d.jsx)(j,{id:t,name:t,value:a[t],onChange:p,placeholder:n,autoSize:{minRows:s,maxRows:u},onBlur:m,style:l})]})},m=a(19),O=a(40),h=a(366),x={name:"",author:"",description:""};t.default=function(){var e=Object(h.a)().t,t=Object(m.c)(),a=c.a.useState(!1),s=Object(r.a)(a,2),i=s[0],l=s[1],b=c.a.useState(x),j=Object(r.a)(b,2),v=j[0],f=j[1],k=c.a.useState({name:{status:!1,text:""},author:{status:!1,text:""},description:{status:!1,text:""}}),w=Object(r.a)(k,2),g=w[0],y=w[1],B=c.a.useCallback((function(e){var t=e.target,a=t.name,r=t.value;!0===g[a].status&&y((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(n.a)({},a,{status:!1,text:""}))})),f((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(n.a)({},a,r))}))}),[g]),C=c.a.useCallback((function(t){var a=t.target,r=a.name,s=a.value;y((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(n.a)({},r,{status:!s,text:s?"":e("errors.required")}))}))}),[e]),_=c.a.useCallback((function(a){a.preventDefault(),Object.entries(v).reduce((function(t,a){var s=Object(r.a)(a,2),c=s[0];return s[1]?t:(y((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(n.a)({},c,{status:!0,text:e("errors.required")}))})),!0)}),!1)||(t(O.a.requestAddBook(v)),l(!0),setTimeout((function(){l(!1),f(x)}),2e3))}),[v,t,e]),N=c.a.useMemo((function(){return Object.values(g).some((function(e){return!0===e.status}))||i}),[g,i]);return Object(d.jsx)("div",{className:"addbook",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"addbook-wrap",children:Object(d.jsxs)("form",{className:"addbook__form",onSubmit:_,children:[Object(d.jsx)(p,{name:"name",value:v,onChange:B,onBlur:C,label:e("book.input.name"),placeholder:e("book.input.name"),error:g,styleProp:{width:"500px"}}),Object(d.jsx)(p,{name:"author",value:v,onChange:B,onBlur:C,label:e("book.input.author"),placeholder:e("book.input.author"),error:g,styleProp:{width:"500px"}}),Object(d.jsx)(p,{name:"description",value:v,onChange:B,onBlur:C,label:e("book.input.description"),placeholder:e("book.input.description"),error:g,minRows:3,maxRows:7,styleProp:{width:"500px"}}),Object(d.jsx)("div",{className:"addbook__btn",children:Object(d.jsx)(u.a,{type:"primary",htmlType:"submit",disabled:N,children:e("global.save")})})]})})})})}}}]);
//# sourceMappingURL=5.a879ae17.chunk.js.map