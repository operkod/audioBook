(this.webpackJsonpAudioBoock=this.webpackJsonpAudioBoock||[]).push([[0],{263:function(e){e.exports=JSON.parse('{"global":{"delete":"delete","deleted":"deleted","save":"save","sync":"Sync","enabled":"Enabled","cancel":"cancel","confirm":"confirm","updated":"updated","created":"created","active":"Active","element":"element","clarification":"Are you sure you want to delete this item?","back":"Back","close":"close"},"auth":{"input":{"username":"Username","password":"Password","fullName":"Full Name","email":"Email"},"headerAuthentication":{"title":"Sign in to your account","subtitle":"Please login to your account"},"headerRegistration":{"title":"Registration","subtitle":"You need to register"},"button":{"signIn":"Sign In","registration":"Registration"}},"search":"Title of the book or author","menu":{"addBook":"Add book","profile":"Profile","logout":"Logout"},"alert":{"admin":"Admin","user":"User","company":"Company","systemSettings":"systemSettings","fileUploaded":"file uploaded","fileImported":"file imported"},"article":{"play":"Play","comment":{"yes":"comments","no":"no comments yet"}},"profile":{"name":"Name","avatar":{"change":"Change avatar"},"select":"Selected books"},"book":{"input":{"name":"Enter the title of the book","author":"Enter the I.F. of the author","description":"Description"}},"errors":{"error":"Error","required":"Required","emailNotValid":"Email is not valid","phoneNotValid":"Phone is not valid","passwordsEquality":"Password not equality"}}')},264:function(e){e.exports=JSON.parse('{"global":{"hi":"hi","delete":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","deleted":"\u0423\u0434\u0430\u043b\u0435\u043d\u044c","save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","sync":"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c","enabled":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e","cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","confirm":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c","updated":"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d","created":"\u0421\u043e\u0437\u0434\u0430\u043d","active":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439","element":"\u042d\u043b\u0435\u043c\u0435\u043d\u0442","clarification":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442?","back":"\u041d\u0430\u0437\u0430\u0434","close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},"auth":{"input":{"username":"\u041b\u043e\u0433\u0438\u043d","password":"\u041f\u0430\u0440\u043e\u043b\u044c","fullName":"\u0424.\u0418.\u041e.","email":"\u042d\u043b. \u0430\u0434\u0440\u0435\u0441"},"headerAuthentication":{"title":"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442","subtitle":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},"headerRegistration":{"title":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","subtitle":"\u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},"button":{"signIn":"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442","registration":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}},"search":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 \u0438\u043b\u0438 \u0430\u0432\u0442\u043e\u0440\u0430","menu":{"addBook":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443","profile":"\u041f\u0440\u043e\u0444\u0430\u0438\u043b","logout":"\u0412\u044b\u0439\u0442\u0438"},"alert":{"admin":"\u0410\u0434\u043c\u0438\u043d","user":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c","company":"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f","systemSettings":"\u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","fileUploaded":"\u0424\u0430\u0439\u043b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d","fileImported":"\u0424\u0430\u0439\u043b \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d"},"article":{"play":"\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438","comment":{"yes":"\u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f","no":"\u043d\u0435\u0442 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"}},"profile":{"avatar":{"change":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440"},"select":"\u0412\u044b\u0431\u0440\u0430\u043d\u044b\u0435 \u043a\u0438\u043d\u0438\u0433\u0438"},"book":{"input":{"name":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438","author":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0418. \u0424. \u0430\u0432\u0442\u043e\u0440\u0430","description":"\u041e\u043f\u0438\u0441\u044f\u043d\u0438\u0435"}},"errors":{"error":"\u041e\u0448\u0438\u0431\u043a\u0430","required":"\u041e\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435","emailNotValid":"Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e","phoneNotValid":"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e","passwordsEquality":"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}}')},280:function(e,t,a){},303:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/as.75695496.mp3"},380:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){"use strict";a.r(t);var n,r,c,i=a(0),o=a.n(i),s=a(28),l=a.n(s),u=a(27),d=a(29),b=a(32),j=a(104),p=a.n(j),m=a(129),h=a(24),O=a(482),f=a(37),x=(a(280),a(7)),g=a(40),v="SET_MODAL",k="UPDATE_UTILS",y=function(e){return{type:k,payload:e}},w=a(21),S=a(227),C={id:"",item:"",isPlay:!1},N={show:!1,loader:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(x.a)(Object(x.a)({},e),t.payload);default:return e}},D=function(e){return e.queries},_=function(e){return e.entities},E=Object(g.c)({entities:w.entitiesReducer,queries:w.queriesReducer,utils:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===k?Object(x.a)(Object(x.a)({},e),t.payload):e},modal:A,audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return Object(S.a)(e,(function(e){switch(t.type){case"AUDIO@SET_ID":e.id=t.payload;break;case"AUDIO@SET_ITEM":e.item=t.payload;break;case"AUDIO@IS_PLAY":e.isPlay=t.payload}}))}}),B=E,T=function(e){return function(t,a){var n;return null!==(n=_(t)[a])&&void 0!==n?n:e}},I=T({}),R=T([]),q=function(e){return e.modal},V=function(e,t,a){var n;return null!==(n=function(e){return e.utils}(e)[t])&&void 0!==n?n:a},P={width:0,height:0},U=function(){var e=Object(i.useCallback)((function(e){return{screenData:V(e,"screenData",P)}}),[]),t=Object(u.useDispatch)(),a=Object(u.useSelector)(e),n=Object(i.useMemo)((function(){return Object(g.b)({setScreenData:function(e){return y({screenData:e})}},t)}),[t]);return Object(x.a)(Object(x.a)({},a),n)},M=a(19),z=function(e){return"object"!==typeof e?"":Object.keys(e).reduce((function(t,a){if(!e[a])return t;var n=e[a];return"".concat(t).concat(""===t?"?":"&").concat(a,"=").concat(n)}),"")},F=window.location.origin,L=function(){return"".concat(F,"/").concat("user/me")},K=function(){return"".concat(F,"/").concat("user/signin")},W=function(){return"".concat(F,"/").concat("user/signup")},H=function(){return"".concat(F,"/user/photo")},Y=function(e){return"".concat(F,"/book").concat(z(e))},X=function(e){return"".concat(F,"/book/comment?id=").concat(e)},G=function(){return"".concat(F,"/book/comment/add")},J=function(){return"".concat(F,"/book/like")},Q=function(e){var t=e.resultKey,a=void 0===t?"userData":t,n=e.successCallback,r=e.errorCallback;return Object(w.requestAsync)({url:L(),transform:function(e){var t=e.user;return Object(M.a)({},a,{id:t._id,name:t.fullname,avatar:t.avatar})},queryKey:L(),meta:{authToken:!0,successCallback:n,errorCallback:r},options:{method:"GET",headers:{Accept:"application/json"}},update:Object(M.a)({},a,(function(e,t){return t}))})},Z=function(e){var t=e.file,a=e.resultKey,n=void 0===a?"userAvatar":a,r=e.successCallback,c=e.errorCallback;return Object(w.requestAsync)({url:H(),transform:function(e){return Object(M.a)({},n,e)},queryKey:H(),body:t,meta:{authToken:!0,successCallback:r,errorCallback:c},options:{method:"POST",headers:{Accept:"multipart/form-data"}},update:Object(M.a)({},n,(function(e,t){return t}))})},$=function(e,t){return Object.keys(e).reduce((function(a,n){return Object(x.a)(Object(x.a)({},a),{},Object(M.a)({},n,(function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=r.withFetching,i=void 0===c||c;return i&&t({type:n,payload:!0}),e[n](a).then((function(e){return i&&t({type:n,payload:!1}),e}))})))}),e)},ee=function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},"".concat([t.type],"IsFetching"),t.payload))},te=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.reducer,r=void 0===n?ee:n,c=a.initialReducerState,o=void 0===c?{}:c,s=Object(i.useMemo)((function(){return Object(g.b)(e,t)}),[e,t]),l=Object(i.useReducer)(r,o),u=Object(h.a)(l,2),d=u[0],b=u[1],j=Object(i.useMemo)((function(){return $(s,b)}),[s,b]);return[j,d]},ae=function(){var e=Object(i.useCallback)((function(e){return{userData:I(e,"userData")}}),[]),t=Object(u.useDispatch)(),a=Object(u.useSelector)(e),n=Object(i.useMemo)((function(){return{getUserData:Q,editUserAvatar:Z}}),[]),r=Object(i.useMemo)((function(){return Object(g.b)({logout:function(){return Object(w.updateEntities)({userData:function(){return{}}})},updateAvatar:function(e){return Object(w.updateEntities)({userData:function(t){return Object(x.a)(Object(x.a)({},t),{},{avatar:e})}})}},t)}),[t]),c=te(n,t),o=Object(h.a)(c,2),s=o[0],l=o[1];return Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({},a),s),l),r)},ne=a(61),re=a(483),ce=a(478),ie=a(481),oe={getBase:function(){return"/"},getProfile:function(){return"/profile"},getSignin:function(){return"/signin"},getSignup:function(){return"/signup"},getAddBook:function(){return"/add"}},se=a.p+"static/media/user.4a895b67.svg",le=a(484),ue="X-AuthToken",de="i18nextLng",be=function(e){return localStorage.setItem(ue,e)},je=function(){return localStorage.getItem(ue)},pe=function(){return localStorage.removeItem(ue)},me=function(){return localStorage.getItem(de)},he=a(3),Oe=function(e){var t=e.isAuth,a=e.avatar,n=e.logout,r=Object(le.a)().t,c=o.a.useCallback((function(){pe(),n()}),[n]);return Object(he.jsx)(he.Fragment,{children:t?Object(he.jsx)(re.a,{overlay:Object(he.jsxs)(ce.a,{children:[Object(he.jsx)(ce.a.Item,{children:Object(he.jsx)(b.b,{className:"nav-link",to:oe.getAddBook(),children:r("menu.addBook")})}),Object(he.jsx)(ce.a.Item,{children:Object(he.jsx)(b.b,{to:oe.getProfile(),children:r("menu.profile")})}),Object(he.jsx)(ce.a.Item,{onClick:c,danger:!0,children:r("menu.logout")})]}),placement:"bottomRight",children:Object(he.jsx)(ie.a,{className:"avatar",size:"large",icon:Object(he.jsx)("img",{src:a||se,alt:"UserAvatar"})})}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(b.b,{to:oe.getSignin(),children:Object(he.jsx)(ne.a,{type:"primary",children:r("auth.button.signIn")})}),Object(he.jsx)(b.b,{to:oe.getSignup,children:Object(he.jsx)(ne.a,{type:"primary",children:r("auth.button.registration")})})]})})},fe=o.a.memo(Oe),xe=function(e){var t=e.isAuth,a=e.avatar,n=e.logout,r=Object(le.a)().t,c=Object(i.useCallback)((function(){pe(),n()}),[]);return Object(he.jsx)(ce.a,{children:t?Object(he.jsx)(re.a,{overlay:Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)(ce.a,{children:[Object(he.jsx)(ce.a.Item,{children:Object(he.jsx)(b.b,{className:"nav-link",to:oe.getAddBook(),children:r("menu.addBook")})}),Object(he.jsx)(ce.a.Item,{children:Object(he.jsx)(b.b,{to:oe.getProfile(),children:r("menu.profile")})}),Object(he.jsx)(ce.a.Item,{onClick:c,danger:!0,children:r("menu.logout")})]})}),placement:"bottomRight",children:Object(he.jsx)(ie.a,{className:"avatar",size:"large",icon:Object(he.jsx)("img",{src:a||se,alt:"UserAvatar"})})}):Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(re.a,{overlay:Object(he.jsxs)(ce.a,{children:[Object(he.jsx)(ce.a.Item,{children:Object(he.jsx)(b.b,{to:oe.getSignin(),children:Object(he.jsx)(ne.a,{block:!0,type:"primary",children:r("auth.button.signIn")})})}),Object(he.jsx)(ce.a.Item,{children:Object(he.jsx)(b.b,{to:oe.getSignup(),children:Object(he.jsx)(ne.a,{type:"primary",children:r("auth.button.registration")})})})]}),placement:"bottomRight",children:Object(he.jsx)(ie.a,{className:"avatar",size:"large",icon:Object(he.jsx)("img",{src:a||se,alt:"UserAvatar"})})})})})},ge=o.a.memo(xe),ve=function(){var e=U().screenData,t=ae(),a=t.userData,n=t.logout,r=Object(i.useMemo)((function(){return 850>e.width}),[e.width]);return Object(he.jsx)(he.Fragment,{children:r?Object(he.jsx)(ge,{isAuth:!!a.id,avatar:a.avatar,logout:n}):Object(he.jsx)(fe,{isAuth:!!a.id,avatar:a.avatar,logout:n})})},ke=a(161),ye=a(162),we=function(){var e=o.a.useState(me()),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(le.a)().i18n,c=function(e){r.changeLanguage(e),n(e)};return Object(he.jsxs)(Se,{children:[Object(he.jsx)(Ce,{active:"ru"===a,onClick:function(){return c("ru")},children:"RU"}),Object(he.jsx)(Ce,{active:"en"===a,onClick:function(){return c("en")},children:"EN"})]})},Se=ye.b.ul(n||(n=Object(ke.a)(["\n  display: flex;\n"]))),Ce=ye.b.li(r||(r=Object(ke.a)(["\n  cursor: pointer;\n  margin-left: 10px;\n  transition: color 0.2s ease;\n  font-weight: 700;\n  &:hover {\n    color: red;\n  }\n  ","\n"])),(function(e){return e.active&&Object(ye.a)(c||(c=Object(ke.a)(["\n      cursor: default;\n      color: red;\n    "])))})),Ne=a.p+"static/media/logo.51a0411d.svg",Ae=a(150),De=function(e){var t=e.params,a=e.resultKey,n=void 0===a?"booksData":a,r=e.successCallback,c=e.errorCallback;return Object(w.requestAsync)({url:Y(t),transform:function(e){return Object(M.a)({},n,e)},queryKey:Y(t),meta:{authToken:!0,successCallback:r,errorCallback:c},options:{headers:{Accept:"application/json"}},update:Object(M.a)({},n,(function(e,t){return t}))})},_e=function(e){var t=e.id,a=e.checked,n=e.resultKey,r=void 0===n?"bookLike":n,c=e.successCallback,i=e.errorCallback;return Object(w.requestAsync)({url:J(),transform:function(e){return Object(M.a)({},r,e)},queryKey:J(),meta:{authToken:!0,successCallback:c,errorCallback:i},options:{method:"POST",headers:{Accept:"application/json"}},body:{id:t,checked:a},update:Object(M.a)({},r,(function(e,t){return t}))})},Ee=function(e){var t=e.id,a=e.resultKey,n=void 0===a?"bookComments":a,r=e.successCallback,c=e.errorCallback;return Object(w.requestAsync)({url:X(t),transform:function(e){return Object(M.a)({},n,e)},queryKey:X(t),meta:{successCallback:r,errorCallback:c},options:{method:"GET",headers:{Accept:"application/json"}},update:Object(M.a)({},n,(function(e,t){return t}))})},Be=function(e){var t=e.postData,a=e.resultKey,n=void 0===a?"addBookComment":a,r=e.successCallback,c=e.errorCallback;return Object(w.requestAsync)({url:G(),transform:function(e){return Object(M.a)({},n,e)},queryKey:G(),meta:{authToken:!0,successCallback:r,errorCallback:c},options:{method:"POST",headers:{Accept:"application/json"}},body:t,update:Object(M.a)({},n,(function(e,t){return t}))})},Te={page:0,search:""},Ie=function(){var e=Object(i.useCallback)((function(e){return{booksData:R(e,"booksData"),bookComments:R(e,"bookComments"),requestBookParams:V(e,"requestBookParams",Te)}}),[]),t=Object(u.useDispatch)(),a=Object(u.useSelector)(e),n=Object(i.useMemo)((function(){return{getBooks:De,getBookLike:_e,getBookComment:Ee,addBookComment:Be}}),[]),r=Object(i.useMemo)((function(){return Object(g.b)({setComment:function(e){return Object(w.updateEntities)({bookComments:function(t){return[].concat(Object(Ae.a)(t),[e])}})},setRequestBookParams:function(e){return y({requestBookParams:Object(x.a)(Object(x.a)({},Te),e)})}},t)}),[t]),c=te(n,t),o=Object(h.a)(c,2),s=o[0],l=o[1];return Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({},a),s),l),r)},Re=O.a.Search,qe=Object(f.a)({header:{position:"sticky",top:0,left:0,right:0,zIndex:1e3,backgroundColor:"#eef0f1",boxShadow:"0px 0px 20px 0px #c2bfbf"},content:{display:"flex",alignItems:"center",padding:"1rem 0"},logo:{width:"50px"},nav:{"& a":{marginLeft:"2rem"}},search:{marginLeft:"auto",width:"300px"}}),Ve=function(){var e=Object(le.a)().t,t=Object(d.g)(),a=qe(),n=Aa(),r=Ie(),c=r.requestBookParams,o=r.setRequestBookParams,s=Object(i.useState)(c.search),l=Object(h.a)(s,2),u=l[0],j=l[1];return Object(he.jsx)("div",{className:a.header,children:Object(he.jsx)("div",{className:n.container,children:Object(he.jsxs)("div",{className:a.content,children:[Object(he.jsx)("div",{className:a.logo,children:Object(he.jsx)(b.b,{to:oe.getBase(),children:Object(he.jsx)("img",{src:Ne,alt:"Books",width:"100%"})})}),Object(he.jsx)("div",{className:a.search,children:Object(he.jsx)(Re,{placeholder:e("search"),onSearch:function(e){o({search:e.trim(),page:0}),t.push(oe.getBase())},value:u,onChange:function(e){var t=e.target.value;j(t)},enterButton:!0})}),Object(he.jsx)("div",{className:a.nav,children:Object(he.jsx)(ve,{})}),Object(he.jsx)(we,{})]})})})},Pe=(a(303),a(304),a(267)),Ue=function(e){return{type:"AUDIO@SET_ITEM",payload:e}},Me=function(e){return{type:"AUDIO@SET_ID",payload:e}},ze=function(e){return{type:"AUDIO@IS_PLAY",payload:e}},Fe=function(e){return e.audio.id},Le=function(e){return e.audio.isPlay},Ke=function(e){return e.audio.item},We=function(){var e=o.a.useRef(null),t=Object(u.useDispatch)(),a=Object(u.useSelector)(Le),n=Object(u.useSelector)(Ke);o.a.useEffect((function(){a?e.current.audio.current.play():a||e.current.audio.current.pause()}),[a]);var r=function(e){var a=e.type;"play"===a?t(ze(!0)):"pause"===a&&t(ze(!1))};return Object(he.jsx)("div",{className:"audio-player",children:Object(he.jsx)("div",{className:"container",children:Object(he.jsx)(Pe.a,{autoPlay:!1,ref:e,src:n,onPlay:r,onPause:r,autoPlayAfterSrcChange:!0})})})},He=a(470),Ye=Object(f.a)({loader:{position:"absolute",top:"50%",left:"50%"}}),Xe=function(e){var t=e.className,a=void 0===t?"":t,n=e.style,r=void 0===n?{}:n,c=Ye();return Object(he.jsx)("div",{className:"".concat(a," ").concat(c.loader),style:r,children:Object(he.jsx)(He.a,{size:"large"})})},Ge=function(e){var t=e.children,a=Object(i.useState)(!0),n=Object(h.a)(a,2),r=n[0],c=n[1],s=ae().getUserData,l=Object(u.useSelector)(Fe),d=Je();return o.a.useEffect((function(){Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!je()){e.next=3;break}return e.next=3,s({resultKey:"userData"});case 3:c(!1);case 4:case"end":return e.stop()}}),e)})))()}),[]),r?Object(he.jsx)(Xe,{}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Ve,{}),Object(he.jsx)("div",{className:d.wrapper,children:t}),!!l&&Object(he.jsx)(We,{})]})},Je=Object(f.a)({wrapper:{}}),Qe=function(e){var t=e.children,a=e.className;return Object(he.jsx)("div",{className:a,style:{backgroundColor:"#fff",borderRadius:"10px",margin:"20px",padding:"15px"},children:t})},Ze=a(471),$e=a(248),et=a.n($e),tt=a(249),at=a.n(tt)()(),nt=function(){var e=Object(i.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(i.useCallback)((function(e){var t={token:je(),message:e};at.emit("MESSAGE",t)}),[]);return Object(i.useEffect)((function(){at.on("NEW_MESSAGE",(function(e){n((function(t){return t.concat(e)}))}))}),[]),Object(i.useEffect)((function(){Object(m.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.a.get("/chat");case 2:t=e.sent,a=t.data,n(a);case 5:case"end":return e.stop()}}),e)})))()}),[]),{messages:a,addMessage:r}},rt=O.a.TextArea,ct=Object(f.a)({sidebar:{position:"fixed",right:"0",minWidth:"350px",maxWidth:"350px",height:"calc(100vh - 122px)",marginLeft:"0 !important"},header:{display:"flex",justifyContent:"center",fontSize:"1.2rem"},wrap:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},main:{height:"100%",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"10px"},"&::-webkit-scrollbar-track":{boxShadow:"5px 5px 5px -5px rgba(34, 60, 80, 0.2) inset",backgroundColor:"#f9f9fd",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{borderRadius:"10px",background:"linear-gradient(180deg, #00c6fb, #005bea)"}}}),it=function(e){var t=e.className,a=void 0===t?"":t,n=ct(),r=Object(i.useState)(""),c=Object(h.a)(r,2),o=c[0],s=c[1],l=nt(),u=l.messages,d=l.addMessage,b=Object(i.useRef)(null),j=Object(i.useCallback)((function(){o&&d(o),s("")}),[o,d]);return Object(i.useEffect)((function(){b.current&&b.current.scrollTo(0,99999)}),[u]),Object(he.jsx)(Qe,{className:"".concat(n.sidebar," ").concat(a),children:Object(he.jsxs)("div",{className:n.wrap,children:[Object(he.jsx)("strong",{className:n.header,children:"Online Chat"}),Object(he.jsx)("div",{className:n.main,ref:b,children:u.map((function(e,t){return Object(he.jsx)(Ze.a,{author:e.author,avatar:Object(he.jsx)(ie.a,{src:e.avatar||"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",alt:e.author||"salsa"}),content:Object(he.jsx)("p",{children:e.message})},e._id+t)}))}),Object(he.jsxs)("div",{children:[Object(he.jsx)(rt,{placeholder:"message",autoSize:{minRows:1,maxRows:4},value:o,onChange:function(e){s(e.target.value)}}),Object(he.jsx)(ne.a,{type:"primary",onClick:j,style:{marginTop:"5px"},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})},ot=a(479),st=a(72),lt=a(485),ut=a(486),dt=a(487),bt=a(488),jt=function(e){var t=e.text,a=e.author,n=Object(i.useState)(0),r=Object(h.a)(n,2),c=r[0],s=r[1],l=Object(i.useState)(0),u=Object(h.a)(l,2),d=u[0],b=u[1],j=Object(i.useState)(null),p=Object(h.a)(j,2),m=p[0],O=p[1],f=[Object(he.jsx)(st.a,{title:"Like",children:Object(he.jsxs)("span",{onClick:function(){s(1),b(0),O("liked")},children:[Object(i.createElement)("liked"===m?lt.a:ut.a),Object(he.jsx)("span",{className:"comment-action",children:c})]})},"comment-basic-like"),Object(he.jsx)(st.a,{title:"Dislike",children:Object(he.jsxs)("span",{onClick:function(){s(0),b(1),O("disliked")},children:[o.a.createElement("disliked"===m?dt.a:bt.a),Object(he.jsx)("span",{className:"comment-action",children:d})]})},"comment-basic-dislike")];return Object(he.jsx)(Ze.a,{actions:f,author:a,avatar:Object(he.jsx)(ie.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",alt:"Han Solo"}),content:Object(he.jsx)("p",{children:t})})},pt=function(){var e=Object(i.useCallback)((function(e){return{modalData:q(e)}}),[]),t=Object(u.useDispatch)(),a=Object(u.useSelector)(e),n=Object(i.useMemo)((function(){return Object(g.b)({setModal:function(e){return{type:v,payload:e}}},t)}),[t]);return Object(x.a)(Object(x.a)({},a),n)},mt=Object(f.a)({container:{minHeight:300,display:"flex",flexDirection:"column",justifyContent:"space-between"},comment:{maxHeight:"300px",overflowX:"hidden","&::-webkit-scrollbar":{width:"10px"},"&::-webkit-scrollbar-track":{boxShadow:"5px 5px 5px -5px rgba(34, 60, 80, 0.2) inset",backgroundColor:"#f9f9fd",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{borderRadius:"10px",background:"linear-gradient(180deg, #00c6fb, #005bea)"}},form:{display:"flex",marginTop:"30px"}}),ht=function(){var e=mt(),t=o.a.useState(""),a=Object(h.a)(t,2),n=a[0],r=a[1],c=Ie(),s=c.bookComments,l=c.addBookComment,u=c.setComment,d=pt(),j=d.modalData,p=d.setModal,m=Object(i.useCallback)((function(e){e.preventDefault(),l({postData:{bookId:j.id,text:n},successCallback:function(e){u(e)}}),r("")}),[n,j.id]);return Object(he.jsx)(ot.a,{title:"\u041a\u043e\u043c\u0435\u0442\u0430\u0440\u0438\u0438",visible:j.show,onOk:function(){p({show:!1})},onCancel:function(){p({show:!1})},footer:null,children:Object(he.jsxs)("div",{className:e.container,children:[Object(he.jsx)("div",{className:e.comment,children:j.loader?Object(he.jsx)(Xe,{}):s.map((function(e){return Object(he.jsx)(jt,Object(x.a)({},e),e._id)}))}),je()?Object(he.jsxs)("form",{className:e.form,onSubmit:m,children:[Object(he.jsx)(O.a,{style:{width:"100%"},value:n,onChange:function(e){r(e.target.value)}}),Object(he.jsx)(ne.a,{htmlType:"submit",type:"primary",children:"Send"})]}):Object(he.jsxs)("div",{style:{textAlign:"center",paddingTop:"30px"},children:["\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",Object(he.jsx)(b.b,{to:oe.getSignup(),children:"\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"})]})]})})},Ot=a(474),ft=a(480),xt=a(477),gt=a.p+"static/media/author.d1370a05.svg",vt=a(4),kt=a.n(vt),yt=(a(357),function(e){var t=e.onClick,a=e.name,n=e.icon,r=e.className,c=e.style;return Object(he.jsxs)("div",{className:kt()("author",Object(M.a)({},"".concat(r),!!r)),onClick:t,style:c,children:[Object(he.jsx)("div",{className:"author-img",children:Object(he.jsx)("img",{src:n||gt,alt:a,width:"100%"})}),Object(he.jsx)("div",{className:"author-name",children:a})]})}),wt=(a(358),a.p+"static/media/play.b82a9267.svg"),St=a.p+"static/media/stop.a64e0090.svg",Ct=a(359),Nt=function(e){var t=e.bookId,a=Object(u.useSelector)(Fe),n=Object(le.a)().t,r=Object(u.useSelector)(Le),c=Object(u.useDispatch)();return Object(he.jsxs)("div",{onClick:function(){t!==a?(c(Me(t)),c(Ue(Ct.default)),c(ze(!0))):c(ze(!r))},className:"audio",children:[t===a&&r?Object(he.jsx)("img",{src:St,alt:"stop"}):Object(he.jsx)("img",{src:wt,alt:"play"}),Object(he.jsx)("span",{className:"audio-play",children:n("article.play")})]})},At=a.p+"static/media/comment.df5e7701.svg",Dt=a.p+"static/media/like-up.0fd910a4.svg",_t=a.p+"static/media/like.3202d8c4.svg",Et=function(e,t){return null!=e?e.length<=t?e:"".concat(e.slice(0,t),"\u2026"):e},Bt=Object(f.a)({article:{transition:"background-color 0.3s ease",color:"#000",display:"flex",borderRadius:"10px","@media (max-width: 500px)":{display:"block"}},articleLeft:{width:" 25%",overflow:"hidden","@media (max-width: 500px)":{width:"100%",margin:"0 auto 25px"},"@media (max-width: 600px)":{width:"150px"}},articleImage:{position:"relative",overflow:"hidden",width:"100%",height:" 250px","& img":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto",height:"100%"}},description:{paddingLeft:"10px",width:"75%",display:"flex",flexDirection:"column",justifyContent:"space-between","@media (max-width: 500px)":{width:"100%",marginBottom:"25px"}},center:{margin:" 5px auto"},footer:{display:"flex",alignItems:"center","@media (max-width: 500px)":{display:"flex"},"@media (max-width: 600px)":{display:"block"}},body:{display:"flex",justifyContent:"space-between"},likeImage:{width:" 26px",marginBottom:"10px",cursor:"pointer"},title:{color:"inherit",display:"inline",fontSize:"2rem",fontWeight:"700"},text:{fontSize:"1.1rem",overflow:"hidden",textOverflow:"ellipsis"}}),Tt=function(e){var t=e._id,a=e.name,n=e.author,r=e.imgUrl,c=e.description,o=e.comments,s=e.likes,l=Object(i.useState)(s),u=Object(h.a)(l,2),d=u[0],b=u[1],j=Object(le.a)().t,p=Bt(),m=Ie(),O=m.getBookLike,f=m.getBookComment,x=pt().setModal,g=Object(i.useCallback)((function(){O({id:t,checked:!d,successCallback:function(e){b(e)}})}),[d,O,t]),v=Object(he.jsx)("img",{className:p.likeImage,onClick:g,src:d.status?Dt:_t,alt:"like"});return Object(he.jsxs)(Qe,{className:p.article,children:[Object(he.jsx)("div",{className:p.articleLeft,children:Object(he.jsx)("div",{className:p.articleImage,children:Object(he.jsx)("img",{src:r||Ne,alt:a})})}),Object(he.jsxs)("div",{className:p.description,children:[Object(he.jsxs)("div",{children:[Object(he.jsxs)("div",{className:p.body,children:[Object(he.jsx)("h2",{className:p.title,children:a}),Object(he.jsx)(xt.a,{valueStyle:{fontSize:"1.2rem",whiteSpace:"nowrap"},value:d.count,prefix:v})]}),Object(he.jsx)("p",{className:p.text,children:Et(c,300)})]}),Object(he.jsx)(yt,{name:n}),Object(he.jsxs)("div",{className:p.footer,children:[Object(he.jsx)(Nt,{bookId:t}),Object(he.jsx)(yt,{className:p.center,name:o.length?"".concat(o.length," ").concat(j("article.comment.yes")):j("article.comment.no"),icon:At,onClick:function(){x({show:!0,loader:!0,id:t}),f({id:t,successCallback:function(){x({show:!0,loader:!1})},errorCallback:function(){x({show:!1,loader:!1})}})}})]})]})]})},It=a(253),Rt=a.n(It),qt=Object(f.a)({loader:{position:"absolute",top:"50%",left:"50%"},error:{height:"100%",textAlign:"center",fontSize:"30px",fontWeight:"bold"}}),Vt=function(e){var t,a,n=e.className,r=void 0===n?"":n,c=qt(),o=Object(d.g)(),s=Ie(),l=s.getBooks,u=s.booksData,b=s.getBooksIsFetching,j=s.setRequestBookParams,p=s.requestBookParams,m=p.page,h=p.search;Object(i.useEffect)((function(){var e=o.location.search,t=Rt.a.parse(e,{parseNumbers:!0,parseBooleans:!0}),a={page:m,search:h};t.page?a.page=t.page:t.search&&(a.search=t.search),a.page===m&&a.search===h||j({page:a.page,search:a.search})}),[o.location.search]),Object(i.useEffect)((function(){(m||h)&&o.push({search:z({page:m,search:h})})}),[o,m,h]),Object(i.useEffect)((function(){l({params:Object(x.a)({},p)})}),[p,l]);var O=Object(i.useCallback)((function(e){j({page:e,search:h})}),[j,h]);return Object(he.jsxs)("div",{className:r,style:{position:"relative",minHeight:"calc(100vh - 82px)",width:"100%"},children:[b?Object(he.jsx)(Xe,{className:c.loader}):(null===(t=u.books)||void 0===t?void 0:t.length)?Object(he.jsxs)(he.Fragment,{children:[null===(a=u.books)||void 0===a?void 0:a.map((function(e){return Object(he.jsx)(Tt,Object(x.a)({},e),e._id)})),";",u.total>5&&Object(he.jsx)(Ot.a,{style:{textAlign:"center",padding:"30px 0"},current:(null===p||void 0===p?void 0:p.page)||1,defaultCurrent:1,defaultPageSize:5,total:u.total,onChange:O}),";"]}):Object(he.jsx)("div",{className:c.error,children:"\u041d\u0435\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0435\u0434\u0435\u043d\u043e"}),Object(he.jsx)(ft.a,{})]})},Pt=Object(f.a)({home:{display:"flex"},books:{paddingRight:"370px","@media (max-width: 1199px)":{paddingRight:"0"}},sidebar:{"@media (max-width: 1199px)":{display:"none"}}}),Ut=function(){var e=Pt();return Object(he.jsxs)("div",{className:e.home,children:[Object(he.jsx)(Vt,{className:e.books}),Object(he.jsx)(it,{className:e.sidebar}),Object(he.jsx)(ht,{})]})},Mt=(a(380),a(475)),zt=function(e){var t=e.name,a=e.placeholder,n=e.type,r=e.handleChange,c=e.handleBlur,i=e.value,o=e.validateStatus,s=e.errorText;return Object(he.jsx)(Mt.a.Item,{validateStatus:o?"error":void 0,help:s||void 0,hasFeedback:!0,children:Object(he.jsx)(O.a,{id:t,name:t,size:"large",placeholder:a,value:i,onChange:r,onBlur:c,type:n})})},Ft=function(e){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)},Lt=function(e){var t=e.email,a=void 0===t?"":t,n=e.password,r=void 0===n?"":n,c=e.resultKey,i=void 0===c?"authData":c,o=e.successCallback,s=e.errorCallback;return Object(w.requestAsync)({url:K(),transform:function(e){return Object(M.a)({},i,e)},queryKey:K(),body:{email:a,password:r},meta:{successCallback:o,errorCallback:s},options:{method:"POST",headers:{Accept:"application/json"}},update:Object(M.a)({},i,(function(e,t){return t}))})},Kt=function(){var e=Object(i.useCallback)((function(e){return{authData:I(e,"authData")}}),[]),t=Object(u.useDispatch)(),a=Object(u.useSelector)(e),n=Object(i.useMemo)((function(){return{getAuth:Lt}}),[]),r=te(n,t),c=Object(h.a)(r,2),o=c[0],s=c[1];return Object(x.a)(Object(x.a)(Object(x.a)({},a),o),s)},Wt=function(){var e=Object(d.g)(),t=Kt(),a=t.getAuth,n=t.getAuthIsFetching,r=ae(),c=r.getUserData,i=r.getUserDataIsFetching,s=Object(le.a)().t,l=o.a.useState({email:"",password:""}),u=Object(h.a)(l,2),j=u[0],p=u[1],m=o.a.useState({email:{isValid:!1,text:""},password:{isValid:!1,text:""}}),O=Object(h.a)(m,2),f=O[0],g=O[1],v=o.a.useCallback((function(e){var t=e.target,a=t.name,n=t.value;!0===f[a].isValid&&g((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},a,{isValid:!1,text:""}))})),p((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},a,n))}))}),[f]),k=o.a.useCallback((function(e){var t=e.target,a=t.name,n=t.value;if("email"===a&&n){var r=!Ft(n);g((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},a,{isValid:r,text:r?s("errors.emailNotValid"):""}))}))}else g((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},a,{isValid:!n,text:n?"":s("errors.required")}))}))}),[s]),y=o.a.useMemo((function(){return Object.values(f).some((function(e){return!0===e.isValid}))||n||i}),[f,n,i]),w=o.a.useCallback((function(t){t.preventDefault(),Object.entries(j).reduce((function(e,t){var a=Object(h.a)(t,2),n=a[0];return a[1]?e:(g((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},n,{isValid:!0,text:s("errors.required")}))})),!0)}),!1)||a({email:j.email,password:j.password,successCallback:function(t){var a=t.jwtToken;be(a),c({successCallback:function(){e.push(oe.getBase())}})}})}),[s,j,a,e,c]);return Object(he.jsx)("section",{className:"auth",children:Object(he.jsxs)("div",{className:"auth__content",children:[Object(he.jsxs)("div",{className:"auth__top",children:[Object(he.jsx)("h2",{children:s("auth.headerAuthentication.title")}),Object(he.jsx)("p",{children:s("auth.headerAuthentication.subtitle")})]}),Object(he.jsx)("div",{children:Object(he.jsxs)("form",{onSubmit:w,className:"login-form",children:[Object(he.jsx)(zt,{name:"email",type:"text",placeholder:s("auth.input.email"),handleChange:v,handleBlur:k,validateStatus:f.email.isValid,errorText:f.email.text,value:j.email}),Object(he.jsx)(zt,{name:"password",type:"password",placeholder:s("auth.input.password"),handleChange:v,handleBlur:k,errorText:f.password.text,validateStatus:f.password.isValid,value:j.password}),Object(he.jsx)(Mt.a.Item,{children:Object(he.jsx)(ne.a,{disabled:y,block:!0,htmlType:"submit",type:"primary",size:"large",children:s("auth.button.signIn")})}),Object(he.jsx)(b.b,{className:"auth__register-link",to:oe.getSignup(),children:s("auth.button.registration")})]})})]})})},Ht=(a(446),a(102)),Yt=function(e){var t=e.email,a=void 0===t?"":t,n=e.fullname,r=void 0===n?"":n,c=e.password,i=void 0===c?"":c,o=e.password_2,s=void 0===o?"":o,l=e.resultKey,u=void 0===l?"signUpData":l,d=e.successCallback,b=e.errorCallback;return Object(w.requestAsync)({url:W(),transform:function(e){var t=e.token,a=(e.useData,Object(Ht.a)(e,["token","useData"]));return Object(M.a)({},u,Object(x.a)({token:t},a))},queryKey:W(),body:{email:a,fullname:r,password:i,password_2:s},meta:{successCallback:d,errorCallback:b},options:{method:"POST",headers:{Accept:"application/json"}},update:Object(M.a)({},u,(function(e,t){return t}))})},Xt=function(){var e=Object(i.useCallback)((function(e){return{getSignUp:I(e,"getSignUp")}}),[]),t=Object(u.useDispatch)(),a=Object(u.useSelector)(e),n=Object(i.useMemo)((function(){return{getSignUp:Yt}}),[]),r=te(n,t),c=Object(h.a)(r,2),o=c[0],s=c[1];return Object(x.a)(Object(x.a)(Object(x.a)({},a),o),s)},Gt=function(){var e=Object(le.a)().t,t=Object(d.g)(),a=Xt(),n=a.getSignUp,r=a.getSignUpIsFetching,c=ae(),i=c.getUserData,s=c.getUserDataIsFetching,l=o.a.useState({email:"",fullname:"",password:"",password_2:""}),u=Object(h.a)(l,2),j=u[0],p=u[1],m=o.a.useState({email:{isValid:!1,text:""},fullname:{isValid:!1,text:""},password:{isValid:!1,text:""},password_2:{isValid:!1,text:""}}),O=Object(h.a)(m,2),f=O[0],g=O[1],v=o.a.useCallback((function(e){var t=e.target,a=t.name,n=t.value;!0===f[a].isValid&&g((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},a,{isValid:!1,text:""}))})),p((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},a,n))}))}),[f]),k=o.a.useCallback((function(t){var a=t.target,n=a.name,r=a.value;if("email"===n&&r){var c=!Ft(r);g((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(M.a)({},n,{isValid:c,text:c?e("errors.emailNotValid"):""}))}))}else if("password_2"===n&&r){var i=j.password!==r;g((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(M.a)({},n,{isValid:i,text:i?e("errors.passwordsEquality"):""}))}))}else if("password"===n&&j.password_2&&r){var o=j.password!==j.password_2;g((function(t){return Object(x.a)(Object(x.a)({},t),{},{password_2:{isValid:o,text:o?e("errors.passwordsEquality"):""}})}))}else g((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(M.a)({},n,{isValid:!r,text:r?"":e("errors.required")}))}))}),[e,j]),y=o.a.useMemo((function(){return Object.values(f).some((function(e){return!0===e.isValid}))||r||s}),[f,r,s]),w=o.a.useCallback((function(a){a.preventDefault(),Object.entries(j).reduce((function(t,a){var n=Object(h.a)(a,2),r=n[0];return n[1]?t:(g((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(M.a)({},r,{isValid:!0,text:e("errors.required")}))})),!0)}),!1)||n(Object(x.a)(Object(x.a)({},j),{},{successCallback:function(e){var a=e.jwtToken;be(a),i({successCallback:function(){t.push(oe.getBase())}})}}))}),[e,j,n,i,t]);return Object(he.jsx)("section",{className:"auth",children:Object(he.jsxs)("div",{className:"auth__content",children:[Object(he.jsxs)("div",{className:"auth__top",children:[Object(he.jsx)("h2",{children:e("auth.headerRegistration.title")}),Object(he.jsx)("p",{children:e("auth.headerRegistration.subtitle")})]}),Object(he.jsx)("div",{children:Object(he.jsxs)("form",{onSubmit:w,className:"login-form",children:[Object(he.jsx)(zt,{name:"email",type:"text",placeholder:e("auth.input.email"),handleChange:v,handleBlur:k,value:j.email,validateStatus:f.email.isValid,errorText:f.email.text}),Object(he.jsx)(zt,{name:"fullname",type:"text",placeholder:e("auth.input.fullName"),handleChange:v,handleBlur:k,value:j.fullname,validateStatus:f.fullname.isValid,errorText:f.fullname.text}),Object(he.jsx)(zt,{name:"password",placeholder:e("auth.input.password"),type:"password",handleChange:v,handleBlur:k,value:j.password,validateStatus:f.password.isValid,errorText:f.password.text}),Object(he.jsx)(zt,{name:"password_2",placeholder:e("auth.input.password"),type:"password",handleChange:v,handleBlur:k,value:j.password_2,validateStatus:f.password_2.isValid,errorText:f.password_2.text}),Object(he.jsx)(Mt.a.Item,{children:Object(he.jsx)(ne.a,{disabled:y,block:!0,type:"primary",htmlType:"submit",onSubmit:w,size:"large",children:e("auth.button.registration")})}),Object(he.jsx)(b.b,{className:"auth__register-link",to:oe.getSignin(),children:e("auth.button.signIn")})]})})]})})},Jt=(a(447),a(476)),Qt=a(472),Zt=a(473),$t=function(e){var t=e._id,a=e.imgUrl,n=e.name;return Object(he.jsxs)("div",{className:"profile__list-card",children:[Object(he.jsx)("div",{className:"img",children:Object(he.jsx)("img",{src:a,alt:"avatar"})}),Object(he.jsxs)("div",{style:{marginLeft:"20px"},children:[Object(he.jsx)("h3",{className:"title",children:n}),Object(he.jsx)(yt,{name:n}),Object(he.jsx)(Nt,{bookId:t})]})]})},ea=Jt.a.Title,ta=function(){var e=Object(le.a)().t,t=Ie().booksData,a=ae(),n=a.userData,r=a.editUserAvatar,c=a.updateAvatar,o=n.name,s=n.avatar,l=Object(i.useCallback)((function(e){var t=e.target.files[0],a=new FormData;a.append("image",t),r({file:a,successCallback:function(e){var t=e.avatar;c(t)}})}),[]);return Object(he.jsx)("div",{className:"profile",children:Object(he.jsxs)("div",{className:"container",children:[Object(he.jsx)(Qt.a,{children:Object(he.jsxs)("div",{className:"profile__header",children:[Object(he.jsxs)("div",{className:"profile__header-avatar",children:[Object(he.jsx)(Zt.a,{width:200,src:s}),Object(he.jsxs)(ea,{level:2,children:[e("profile.avatar.change"),":"]}),Object(he.jsx)("input",{className:"profile__header-field",type:"file",placeholder:"asdsad",onChange:l})]}),Object(he.jsxs)(ea,{level:1,className:"profile__header-title",children:[Object(he.jsxs)("span",{style:{fontSize:"20px"},children:[e("profile.name"),":"]}),o]})]})}),Object(he.jsxs)(Qt.a,{children:[Object(he.jsx)(ea,{level:3,children:e("profile.select")}),Object(he.jsx)("div",{className:"profile__list",children:t.books.map((function(e){return Object(he.jsx)($t,Object(x.a)({},e),e._id)}))})]})]})})},aa=(a(449),a(450),O.a.TextArea),na=function(e){var t=e.name,a=e.value,n=e.placeholder,r=e.error,c=e.minRows,i=void 0===c?1:c,o=e.maxRows,s=void 0===o?1:o,l=e.label,u=e.styleProp,d=e.onChange,b=e.onBlur,j=e.textError;return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("label",{id:t,className:kt()("input__label",{"input__label-error":r}),children:r?j:l}),Object(he.jsx)(aa,{id:t,name:t,value:a,onChange:d,placeholder:n,autoSize:{minRows:i,maxRows:s},onBlur:b,style:u})]})},ra={name:"",author:"",description:""},ca=function(){var e=Object(le.a)().t,t=Object(u.useDispatch)(),a=o.a.useState(!1),n=Object(h.a)(a,2),r=n[0],c=n[1],i=o.a.useState(ra),s=Object(h.a)(i,2),l=s[0],d=s[1],b=o.a.useState({name:{isValid:!1,text:""},author:{isValid:!1,text:""},description:{isValid:!1,text:""}}),j=Object(h.a)(b,2),p=j[0],m=j[1],O=o.a.useCallback((function(e){var t=e.target,a=t.name,n=t.value;!0===p[a].isValid&&m((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},a,{isValid:!1,text:""}))})),d((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},a,n))}))}),[p]),f=o.a.useCallback((function(t){var a=t.target,n=a.name,r=a.value;m((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(M.a)({},n,{isValid:!r,text:r?"":e("errors.required")}))}))}),[e]),g=o.a.useCallback((function(t){t.preventDefault(),Object.entries(l).reduce((function(t,a){var n=Object(h.a)(a,2),r=n[0];return n[1]?t:(m((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(M.a)({},r,{isValid:!0,text:e("errors.required")}))})),!0)}),!1)||c(!1)}),[l,t,e]),v=o.a.useMemo((function(){return Object.values(p).some((function(e){return!0===e.isValid}))||r}),[p,r]);return Object(he.jsx)("div",{className:"addbook",children:Object(he.jsx)("div",{className:"container",children:Object(he.jsx)("div",{className:"addbook-wrap",children:Object(he.jsxs)("form",{className:"addbook__form",onSubmit:g,children:[Object(he.jsx)(na,{name:"name",value:l.name,onChange:O,onBlur:f,label:e("book.input.name"),placeholder:e("book.input.name"),error:p.name.isValid,textError:p.name.text,styleProp:{width:"500px"}}),Object(he.jsx)(na,{name:"author",value:l.author,onChange:O,onBlur:f,label:e("book.input.author"),placeholder:e("book.input.author"),error:p.author.isValid,textError:p.author.text,styleProp:{width:"500px"}}),Object(he.jsx)(na,{name:"description",value:l.description,onChange:O,onBlur:f,label:e("book.input.description"),placeholder:e("book.input.description"),error:p.description.isValid,textError:p.description.text,minRows:3,maxRows:7,styleProp:{width:"500px"}}),Object(he.jsx)("div",{className:"addbook__btn",children:Object(he.jsx)(ne.a,{type:"primary",htmlType:"submit",disabled:v,children:e("global.save")})})]})})})})},ia=function(e){var t=e.component,a=Object(Ht.a)(e,["component"]),n=ae().userData;return je()||n.id?Object(he.jsx)(d.a,{to:oe.getBase()}):Object(he.jsx)(d.b,{exact:a.exact,path:a.path,render:function(){return Object(he.jsx)(t,{})}})},oa=function(e){var t=e.component,a=Object(Ht.a)(e,["component"]),n=ae().userData;return je()&&n.id?Object(he.jsx)(d.b,{exact:a.exact,path:a.path,render:function(){return Object(he.jsx)(t,{})}}):Object(he.jsx)(d.a,{to:oe.getSignin()})},sa=function(){return Object(he.jsx)(b.a,{children:Object(he.jsx)(Ge,{children:Object(he.jsx)(i.Suspense,{fallback:Object(he.jsx)(Xe,{}),children:Object(he.jsxs)(d.d,{children:[Object(he.jsx)(ia,{exact:!0,path:oe.getSignin(),component:function(){return Object(he.jsx)(Wt,{})}}),Object(he.jsx)(ia,{exact:!0,path:oe.getSignup(),component:function(){return Object(he.jsx)(Gt,{})}}),Object(he.jsx)(oa,{exact:!0,path:oe.getAddBook(),component:function(){return Object(he.jsx)(ca,{})}}),Object(he.jsx)(oa,{exact:!0,path:oe.getProfile(),component:function(){return Object(he.jsx)(ta,{})}}),Object(he.jsx)(d.b,{path:oe.getBase(),component:function(){return Object(he.jsx)(Ut,{})}}),Object(he.jsx)(d.b,{path:"*",children:Object(he.jsx)(d.a,{to:oe.getBase()})})]})})})})},la=a(258),ua=function(e){var t=e.children,a=U().setScreenData,n=o.a.useCallback((function(){var e={width:window.innerWidth,height:window.innerHeight};a(e)}),[a]);return o.a.useEffect((function(){return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[n]),o.a.useEffect((function(){var e={width:window.innerWidth,height:window.innerHeight};a(e)}),[a]),t},da=a(259),ba=a.n(da),ja=(a(464),a(101)),pa=a(148),ma=function(){return function(e){return function(t){if(t.type===w.actionTypes.REQUEST_SUCCESS){var a=t.meta,n=a.successCallback;a.showSuccess&&Object(ja.b)(pa.a.t("global.messages.ok")),n&&n(t.responseBody,t)}return e(t)}}},ha=function(){return function(e){return function(t){if(t.type===w.actionTypes.REQUEST_FAILURE){var a=t.meta,n=a.errorCallback,r=a.withoutErrorText;if(401===t.status&&pe(),!r){var c="Errors";(null===t||void 0===t?void 0:t.responseBody)&&(c=null===t||void 0===t?void 0:t.responseBody.message),ja.b.error(c)}n&&n(t.responseBody,t)}return e(t)}}},Oa=function(){return function(e){return function(t){if(t.type===w.actionTypes.REQUEST_ASYNC||t.type===w.actionTypes.MUTATE_ASYNC){var a=t;t.force||(a.force=!0),t.meta||(a.meta={}),t.update||(a.update={})}return e(t)}}},fa=a(180),xa=a.n(fa),ga=function(){return function(e){return function(t){if((xa.a.isEqual(t.type,w.actionTypes.REQUEST_ASYNC)||xa.a.isEqual(t.type,w.actionTypes.MUTATE_ASYNC))&&t.meta.authToken){var a=t;delete a.meta.authToken;var n=je();return n&&(a.options.headers=Object(x.a)(Object(x.a)({},a.options.headers),{},{Authorization:"Bearer ".concat(n)})),e(t)}return e(t)}}},va=function(){var e=[ga,Oa,ma,ha,Object(w.queryMiddleware)(ba.a,D,_)];var t=g.a.apply(void 0,Object(Ae.a)(e));return Object(g.d)(B,t)}(),ka=(a(465),a(466),a(269)),ya=a(261),wa=a(115),Sa=a(263),Ca=a(264);pa.a.use(ya.a).use(ka.a).use(wa.e).init({lng:me()||"ru",fallbackLng:["en","ru"],debug:!1,resources:{en:{translation:Sa},ru:{translation:Ca}},detection:{order:["localStorage"],caches:["localStorage"]},interpolation:{escapeValue:!1}});var Na=Object(f.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},body:{minHeight:"100vh",fontFamily:"LatoRegular, sans-serif",fontSize:"13px","&::-webkit-scrollbar":{width:"10px"},"&::-webkit-scrollbar-track":{boxShadow:"5px 5px 5px -5px rgba(34, 60, 80, 0.2) inset",backgroundColor:"#f9f9fd",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{borderRadius:"10px",background:"linear-gradient(180deg, #00c6fb, #005bea)"}},h1:{margin:"15px 0"},h2:{fontFamily:"MullerBold, sans-serif",fontSize:"40px",fontStyle:"normal",fontWeight:"700",lineHeight:"46px"},h3:{fontFamily:"MullerBold, sans-serif"},h4:{margin:"10px 0"},a:{fontFamily:"MullerRegular, sans-serif",textDecoration:"none",color:"inherit","&:focus":{outline:"none"}},button:{fontFamily:"MullerRegular, sans-serif",background:"none",border:0,"&:focus":{outline:"none"}},input:{fontFamily:"LatoRegular, sans-serif",fontSize:"20px",border:0,"&:focus":{outline:"none"},"&:invalid":{boxShadow:"none"}},textarea:{fontFamily:"LatoRegular, sans-serif",fontSize:"20px",border:0,"&:focus":{outline:"none"}}}}),Aa=Object(f.a)({container:{maxWidth:"1200px",margin:"0 auto",padding:"0 10px"}}),Da=function(){return Na(),Object(he.jsx)(u.Provider,{store:va,children:Object(he.jsx)(la.Provider,{queriesSelector:D,children:Object(he.jsxs)(ua,{children:[Object(he.jsx)(ja.a,{}),Object(he.jsx)(sa,{})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(he.jsx)(Da,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[467,1,2]]]);
//# sourceMappingURL=main.d17102e0.chunk.js.map