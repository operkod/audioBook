(this.webpackJsonpAudioBoock=this.webpackJsonpAudioBoock||[]).push([[0],{224:function(e,t,a){},245:function(e,t,a){},248:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},334:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/as.75695496.mp3"},338:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),i=(a(224),a(21)),o=a(85),l=a(186),u=a(214),d=a(78),j={id:"",item:"",isPlay:!1},b="X-AuthToken",O=function(e){return localStorage.setItem(b,e)},h=function(){return localStorage.getItem(b)},p={id:"",avatar:"",fullname:""},m={isAuth:!!h(),data:p,isLoader:!1},x={id:"",items:[],isShow:!1,isLoader:!1},f={items:[],total:0,searchValue:"",isLoader:!1},v=Object(o.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,(function(e){switch(t.type){case"USER@IS_AUTH":e.isAuth=t.payload;break;case"USER@SET_DATA":e.data=t.payload;break;case"USER@LOG_OUT":e.data=p;break;case"USER@LOADER":e.isLoader=t.payload}}))},audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,(function(a){switch(t.type){case"AUDIO@SET_ID":a.id=t.payload;break;case"AUDIO@SET_ITEM":a.item=t.payload;break;case"AUDIO@IS_PLAY":a.isPlay=t.payload;break;default:return e}}))},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,(function(e){switch(t.type){case"COMMENTS@IS_SHOW":e.isShow=t.payload;break;case"COMMENTS@SET_ID":e.id=t.payload;break;case"COMMENTS@SET_ITEM":e.items=t.payload;break;case"COMMENTS@IS_LOADER":e.isLoader=t.payload;break;case"COMMENTS@ADD_ITEM":e.items.push(t.payload)}}))},books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,(function(e){switch(t.type){case"BOOKS@SET_ITEMS":e.items=t.payload;break;case"BOOKS@IS_LOADER":e.isLoader=t.payload;break;case"BOOKS@SET_TOTAL_NUMBER_BOOKS":e.total=t.payload;break;case"BOOKS@SEARCH_VALUE":e.searchValue=t.payload;break;case"BOOKS@ADD_COMMENT":var a=e.items.findIndex((function(e){return e._id===t.payload}));e.items[a].comments.push(t.payload);break;case"BOOKS@ADD_COMMENT_ERROR":var n=e.items.findIndex((function(e){return e._id===t.payload}));e.items[n].comments.pop()}}))}}),g=a(28),y=a.n(g),S=a(18),E=function(e){return{type:"BOOKS@SET_ITEMS",payload:e}},_=function(e){return{type:"BOOKS@SET_TOTAL_NUMBER_BOOKS",payload:e}},k=function(e){return{type:"BOOKS@IS_LOADER",payload:e}},A=function(e){return{type:"BOOKS@ADD_COMMENT",payload:e}},w=function(e){return{type:"BOOKS@REQUEST_BOOK",payload:e}},N=function(e){return{type:"BOOKS@REQUEST_ADD_BOOK",payload:e}},T=function(e){return{type:"BOOKS@RESPONSE_ADD_BOOK",payload:e}},C=a(155),I=a.n(C);I.a.defaults.baseURL=window.location.origin;var R=I.a,B=function(e){var t=e.page,a=void 0===t?1:t,n=e.search,r=void 0===n?"":n;return R.get("/book?page=".concat(a,"&search=").concat(r))},U=function(e){return R.post("/book/addcomment",e,{headers:{authorization:"Bearer ".concat(h())}})},M=function(e){return R.post("/book/comment",{id:e},{headers:{authorization:"Bearer ".concat(h())}})},D=a(218),L=function(e){var t=e.text,a=e.type,n=void 0===a?"info":a,r=e.title,c=e.duration,s=void 0===c?3:c;return D.a[n]({message:r,description:t,duration:s})},P=y.a.mark(F),z=y.a.mark(H),K=y.a.mark(Q);function F(e){var t,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.c)(k(!0));case 3:return n.next=5,Object(S.b)(B,e.payload);case 5:return t=n.sent,a=t.data,n.next=9,Object(S.c)(E(a.books));case 9:return n.next=11,Object(S.c)(_(a.total));case 11:return n.next=13,Object(S.c)(k(!1));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),L({type:"error",text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430\xa0\u043e\u0448\u0438\u0431\u043a\u0430\xa0\u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435\xa0\u0435\u0449\u0451"});case 18:case"end":return n.stop()}}),P,null,[[0,15]])}function V(e){return new Promise((function(t){return setTimeout((function(){return t({data:{name:"",author:"",description:""},time:e})}))}))}function H(e){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S.b)(V,2e3);case 3:return t=e.sent,e.next=6,Object(S.c)(T(t));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),z,null,[[0,8]])}function Q(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.e)("BOOKS@REQUEST_BOOK",F);case 2:return e.next=4,Object(S.e)("BOOKS@REQUEST_ADD_BOOK",H);case 4:case"end":return e.stop()}}),K)}var W=function(e){return e.user.isAuth},Z=function(e){var t;return null===(t=e.user.data)||void 0===t?void 0:t.avatar},G=function(e){var t;return null===(t=e.user.data)||void 0===t?void 0:t.fullname},X=function(e){return e.audio.id},Y=function(e){return e.audio.isPlay},J=function(e){return e.comments.items},$=function(e){return e.comments.isShow},q=function(e){return e.comments.isLoader},ee=function(e){return e.comments.items.length},te=function(e){return e.books.items},ae=function(e){return e.books.total},ne=function(e){return e.books.searchValue},re={isShowComments:function(e){return{type:"COMMENTS@IS_SHOW",payload:e}},setComments:function(e){return{type:"COMMENTS@SET_ITEM",payload:e}},setCommentId:function(e){return{type:"COMMENTS@SET_ID",payload:e}},addComment:function(e){return{type:"COMMENTS@ADD_ITEM",payload:e}},isLoader:function(e){return{type:"COMMENTS@IS_LOADER",payload:e}},fetchComments:function(e){return{type:"COMMENT@REQUEST_ITEM",payload:e}},fetchAddComment:function(e){return{type:"COMMENT@REQUEST_ADD_ITEM",payload:e}}},ce=y.a.mark(oe),se=y.a.mark(le),ie=y.a.mark(ue);function oe(e){var t,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.d)(W);case 2:if(n.sent){n.next=10;break}return L({title:"\u041e\u0448\u0438\u0431\u043a\u0430",text:"\u0422\u043e\u043b\u044c\u043a\u043e \u043e\u0432\u0442\u0430\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043c\u043e\u0433\u0443\u0442 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",type:"warning"}),n.next=7,Object(S.d)(ee);case 7:if(!(n.sent<0)){n.next=10;break}return n.abrupt("return",L({title:"\u041e\u0448\u0438\u0431\u043aa",text:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043d\u0435\u0442, ",type:"warning"}));case 10:return n.prev=10,n.next=13,Object(S.c)(re.isShowComments(!0));case 13:return n.next=15,Object(S.c)(re.isLoader(!0));case 15:return n.next=17,Object(S.c)(re.setCommentId(e.payload));case 17:return n.next=19,Object(S.b)(M,e.payload);case 19:return t=n.sent,a=t.data,n.next=23,Object(S.c)(re.setComments(a));case 23:return n.next=25,Object(S.c)(re.isLoader(!1));case 25:n.next=34;break;case 27:return n.prev=27,n.t0=n.catch(10),L({type:"error",text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430\xa0\u043e\u0448\u0438\u0431\u043a\u0430\xa0\u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435\xa0\u0435\u0449\u0451"}),n.next=32,Object(S.c)(re.isShowComments(!1));case 32:return n.next=34,Object(S.c)(re.isLoader(!1));case 34:case"end":return n.stop()}}),ce,null,[[10,27]])}function le(e){var t,a,n,r,c;return y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(S.d)();case 2:return t=s.sent,a=t.comments,n={bookId:a.id,text:e.payload},s.prev=5,s.next=8,Object(S.b)(U,n);case 8:return r=s.sent,c=r.data,s.next=12,Object(S.c)(re.addComment(c));case 12:return s.next=14,Object(S.c)(A(a.id));case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(5),L({type:"error",text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430\xa0\u043e\u0448\u0438\u0431\u043a\u0430\xa0\u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435\xa0\u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f "});case 19:case"end":return s.stop()}}),se,null,[[5,16]])}function ue(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.e)("COMMENT@REQUEST_ADD_ITEM",le);case 2:return e.next=4,Object(S.e)("COMMENT@REQUEST_ITEM",oe);case 4:case"end":return e.stop()}}),ie)}var de={isLoader:function(e){return{type:"USER@LOADER",payload:e}},setIsAuth:function(e){return{type:"USER@IS_AUTH",payload:e}},setUserData:function(e){return{type:"USER@SET_DATA",payload:e}},logOut:function(){return{type:"USER@LOG_OUT"}},fetchAuthorization:function(e){return{type:"USER@AUTHORIZATION",payload:e}},fetchRegistration:function(e){return{type:"USER@REGISTRATION",payload:e}},userProfile:function(){return{type:"USER@PROFILE"}},updateAvatar:function(e){return{type:"USER@UPDATE_AVATAR",payload:e}}},je=function(){return R.get("/user/getme",{headers:{authorization:"Bearer ".concat(h())}})},be=function(e){return R.post("/user/signin",e,{headers:{authorization:"Bearer ".concat(h())}})},Oe=function(e){return R.post("/user/signup",e,{headers:{authorization:"Bearer ".concat(h())}})},he=function(e){var t=new FormData;return t.append("image",e),R.post("user/photo",t,{headers:{"Content-Type":"multipart/form-data",authorization:"Bearer ".concat(h())}})},pe=y.a.mark(ye),me=y.a.mark(Se),xe=y.a.mark(Ee),fe=y.a.mark(_e),ve=y.a.mark(ke),ge=y.a.mark(Ae);function ye(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem(b);case 2:return e.next=4,Object(S.c)(de.setIsAuth(!1));case 4:case"end":return e.stop()}}),pe)}function Se(e){var t,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.c)(de.isLoader(!0));case 2:return n.prev=2,n.next=5,Object(S.b)(be,e.payload);case 5:return t=n.sent,a=t.data,n.next=9,O(a.token);case 9:return n.next=11,Object(S.c)(de.setUserData(a.user));case 11:return n.next=13,Object(S.c)(de.setIsAuth(!0));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(2),L({type:"error",title:"Authorization",text:n.t0.response.data.message});case 18:return n.prev=18,n.next=21,Object(S.c)(de.isLoader(!1));case 21:return n.finish(18);case 22:case"end":return n.stop()}}),me,null,[[2,15,18,22]])}function Ee(e){var t,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.c)(de.isLoader(!0));case 2:return n.prev=2,n.next=5,Object(S.b)(Oe,e.payload);case 5:return t=n.sent,a=t.data,n.next=9,O(a.token);case 9:return n.next=11,Object(S.c)(de.setUserData(a.user));case 11:return n.next=13,Object(S.c)(de.setIsAuth(!0));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(2),L({type:"error",title:"Registration",text:n.t0.response.data.message});case 18:return n.prev=18,n.next=21,Object(S.c)(de.isLoader(!1));case 21:return n.finish(18);case 22:case"end":return n.stop()}}),xe,null,[[2,15,18,22]])}function _e(){var e,t;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(S.b)(je);case 3:return e=a.sent,t=e.data,a.next=7,O(t.token);case 7:return a.next=9,Object(S.c)(de.setUserData(t.user));case 9:return a.next=11,Object(S.c)(de.setIsAuth(!0));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(S.c)(de.logOut());case 17:case"end":return a.stop()}}),fe,null,[[0,13]])}function ke(e){var t,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.b)(he,e.payload);case 3:return t=n.sent,a=t.data,n.next=7,Object(S.c)(de.setUserData(a.user));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),L({type:"error",title:"Avatar",text:"\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0430\u0432\u0430\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u043e \u0440\u0430\u0437"});case 12:case"end":return n.stop()}}),ve,null,[[0,9]])}function Ae(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.e)("USER@LOG_OUT",ye);case 2:return e.next=4,Object(S.e)("USER@AUTHORIZATION",Se);case 4:return e.next=6,Object(S.e)("USER@REGISTRATION",Ee);case 6:return e.next=8,Object(S.e)("USER@PROFILE",_e);case 8:return e.next=10,Object(S.e)("USER@UPDATE_AVATAR",ke);case 10:case"end":return e.stop()}}),ge)}var we=y.a.mark(Ne);function Ne(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)([Q(),ue(),Ae()]);case 2:case"end":return e.stop()}}),we)}var Te=a(190),Ce=a.n(Te),Ie=Object(u.a)(),Re=[l.a,Ie,Ce.a],Be=Object(o.d)(v,o.a.apply(void 0,Re));Ie.run(Ne);var Ue=Be,Me=a(30),De=a(37),Le={getBase:function(){return"/"},getProfile:function(){return"/profile"},getSignin:function(){return"/signin"},getSignup:function(){return"/signup"},getAddBook:function(){return"/add"}},Pe=(a(245),a(358)),ze=a.p+"static/media/logo.51a0411d.svg",Ke=a(3),Fe=Pe.a.Search,Ve=function(){var e=Object(Me.g)(),t=Object(i.d)(ne),a=Object(i.c)();return Object(Ke.jsx)("header",{className:"header",children:Object(Ke.jsx)("div",{className:"container",children:Object(Ke.jsxs)("div",{className:"header-content",children:[Object(Ke.jsx)("div",{className:"header-content__logo",children:Object(Ke.jsx)(De.b,{to:Le.getBase(),children:Object(Ke.jsx)("img",{src:ze,alt:"Books"})})}),Object(Ke.jsx)("div",{className:"search",children:Object(Ke.jsx)(Fe,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 \u0438\u043b\u0438 \u0430\u0444\u0442\u043e\u0440\u0430",onSearch:function(t){a(w({search:t})),e.push(Le.getBase())},defaultValue:t,enterButton:!0})}),Object(Ke.jsx)("div",{className:"nav",children:Object(Ke.jsx)(Ot,{})})]})})})},He=a(41),Qe=(a(248),{setAudio:function(e){return{type:"AUDIO@SET_ITEM",payload:e}},setAudioBookId:function(e){return{type:"AUDIO@SET_ID",payload:e}},isPlay:function(e){return{type:"AUDIO@IS_PLAY",payload:e}}}),We=a.p+"static/media/comment.df5e7701.svg",Ze=a(354),Ge=a.p+"static/media/like-up.0fd910a4.svg",Xe=a.p+"static/media/like.3202d8c4.svg",Ye={fetchComments:re.fetchComments,isPlay:Qe.isPlay},Je=Object(i.b)((function(e){return{isAuth:W(e)}}),Ye)((function(e){var t=e._id,a=e.name,n=e.author,c=e.imgUrl,s=e.description,i=e.comments,o=e.isAuth,l=e.fetchComments,u=r.a.useState(!1),d=Object(He.a)(u,2),j=d[0],b=d[1],O=r.a.useState(0),h=Object(He.a)(O,2),p=h[0],m=h[1];return Object(Ke.jsxs)("div",{className:"article",children:[Object(Ke.jsx)("div",{className:"article-left",children:Object(Ke.jsx)("div",{className:"article-img",children:Object(Ke.jsx)("img",{src:c||ze,alt:a})})}),Object(Ke.jsxs)("div",{className:"article-description",children:[Object(Ke.jsxs)("div",{className:"article-description__body",children:[Object(Ke.jsxs)("div",{className:"body-wrap",children:[Object(Ke.jsx)("h2",{className:"article-description__body-title",children:a}),Object(Ke.jsx)(Ze.a,{valueStyle:{fontSize:"20px",whiteSpace:"nowrap"},value:p,prefix:Object(Ke.jsx)("img",{className:"article-description__body-like",onClick:function(){if(!o)return L({type:"warning",text:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c\xa0\u043b\u0430\u0439\u043a"});b(!j),m(j?p-1:p+1)},src:j?Ge:Xe,alt:"like"})})]}),Object(Ke.jsx)("p",{className:"article-description__body-text",children:s})]}),Object(Ke.jsx)(ct,{name:n}),Object(Ke.jsxs)("div",{className:"article-description__footer",children:[Object(Ke.jsx)(Bt,{bookId:t}),Object(Ke.jsx)(ct,{className:"center",name:i.length?"".concat(i.length," \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"):"\u043d\u0435\u0442 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",icon:We,onClick:function(){return l(t)}})]})]})]})})),$e=a(352),qe=function(e,t,a){return t[e]?a[e]?"error":"success":""},et=function(e){var t=e.name,a=e.placeholder,n=e.type,r=e.handleChange,c=e.handleBlur,s=e.touched,i=e.errors,o=e.values;return Object(Ke.jsx)($e.a.Item,{validateStatus:qe(t,s,i),help:s[t]?i[t]:null,hasFeedback:!0,children:Object(Ke.jsx)(Pe.a,{id:t,size:"large",placeholder:a,value:o[t],onChange:r,onBlur:c,type:n})})},tt=a(84),at=a.p+"static/media/author.d1370a05.svg",nt=a(4),rt=a.n(nt),ct=(a(329),function(e){var t=e.onClick,a=e.name,n=e.icon,r=e.className,c=e.style;return Object(Ke.jsxs)("div",{className:rt()("author",Object(tt.a)({},"".concat(r),!!r)),onClick:t,style:c,children:[Object(Ke.jsx)("div",{className:"author-img",children:Object(Ke.jsx)("img",{src:n||at,alt:a})}),Object(Ke.jsx)("div",{className:"author-name",children:a})]})}),st=(a(330),a(62)),it=a(360),ot=a(355),lt=a(359),ut=a.p+"static/media/user.4a895b67.svg",dt=function(e){var t=e.isAuth,a=e.avatar,n=Object(i.c)();return Object(Ke.jsx)(Ke.Fragment,{children:t?Object(Ke.jsx)(it.a,{overlay:Object(Ke.jsxs)(ot.a,{children:[Object(Ke.jsx)(ot.a.Item,{children:Object(Ke.jsx)(De.b,{className:"nav-link",to:Le.getAddBook(),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})}),Object(Ke.jsx)(ot.a.Item,{children:Object(Ke.jsx)(De.b,{to:Le.getProfile(),children:"Profile"})}),Object(Ke.jsx)(ot.a.Item,{onClick:function(){return n(de.logOut())},danger:!0,children:"\u0412\u044b\u0439\u0442\u0438"})]}),placement:"bottomRight",children:Object(Ke.jsx)(lt.a,{className:"avatar",size:"large",icon:Object(Ke.jsx)("img",{src:a||ut,alt:"UserAvatar"})})}):Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)(De.b,{to:Le.getSignin(),children:Object(Ke.jsx)(st.a,{type:"primary",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(Ke.jsx)(De.b,{to:Le.getSignup,children:Object(Ke.jsx)(st.a,{type:"primary",children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u0441\u044f"})})]})})},jt=function(e){var t=e.isAuth,a=e.avatar,n=Object(i.c)();return Object(Ke.jsx)(ot.a,{children:t?Object(Ke.jsx)(it.a,{overlay:Object(Ke.jsx)(Ke.Fragment,{children:Object(Ke.jsxs)(ot.a,{children:[Object(Ke.jsx)(ot.a.Item,{children:Object(Ke.jsx)(De.b,{className:"nav-link",to:Le.getAddBook(),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})}),Object(Ke.jsx)(ot.a.Item,{children:Object(Ke.jsx)(De.b,{to:Le.getProfile(),children:"Profile"})}),Object(Ke.jsx)(ot.a.Item,{onClick:function(){return n(de.logOut())},danger:!0,children:"\u0412\u044b\u0439\u0442\u0438"})]})}),placement:"bottomRight",children:Object(Ke.jsx)(lt.a,{className:"avatar",size:"large",icon:Object(Ke.jsx)("img",{src:ut,alt:"UserAvatar"})})}):Object(Ke.jsx)(Ke.Fragment,{children:Object(Ke.jsx)(it.a,{overlay:Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)(ot.a.Item,{children:Object(Ke.jsx)(De.b,{to:Le.getSignin(),children:Object(Ke.jsx)(st.a,{block:!0,type:"primary",children:"\u0412\u043e\u0439\u0442\u0438"})})}),Object(Ke.jsx)(ot.a.Item,{children:Object(Ke.jsx)(De.b,{to:Le.getSignup(),children:Object(Ke.jsx)(st.a,{type:"primary",children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u0441\u044f"})})})]}),placement:"bottomRight",children:Object(Ke.jsx)(lt.a,{className:"avatar",size:"large",icon:Object(Ke.jsx)("img",{src:a||ut,alt:"UserAvatar"})})})})})},bt=window.innerWidth,Ot=function(){var e=r.a.useState(bt>850),t=Object(He.a)(e,2),a=t[0],n=t[1],c=Object(i.d)(W),s=Object(i.d)(Z),o=r.a.useCallback((function(){var e=document.body.clientWidth;n(!(850>e))}),[]);return r.a.useEffect((function(){return window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}}),[o]),Object(Ke.jsx)(Ke.Fragment,{children:a?Object(Ke.jsx)(dt,{isAuth:c,avatar:s}):Object(Ke.jsx)(jt,{isAuth:c,avatar:s})})},ht=(a(331),a(332),a(215)),pt=function(){var e=r.a.useRef(null),t=Object(i.c)(),a=Object(i.d)(Y),n=Object(i.d)(X);return r.a.useEffect((function(){return a?e.current.audio.current.play():a?void 0:e.current.audio.current.pause()}),[a]),Object(Ke.jsx)("div",{className:"audio-player",children:Object(Ke.jsx)("div",{className:"container",children:Object(Ke.jsx)(ht.a,{autoPlay:!0,ref:e,src:n,onPlay:function(){return t(Qe.isPlay(!1))},onPause:function(){return t(Qe.isPlay(!0))},autoPlayAfterSrcChange:!0})})})},mt=a(48),xt=(a(334),a(356)),ft=a(347),vt={display:"flex",justifyContent:"center",alignItems:"center"},gt=function(){return Object(Ke.jsx)("div",{className:"loader",style:vt,children:Object(Ke.jsx)(ft.a,{size:"large"})})},yt={isShowComments:re.isShowComments,fetchAddComment:re.fetchComments},St=Object(i.b)((function(e){return{items:J(e),isShow:$(e),isAuth:W(e),isLoader:q(e)}}),yt)((function(e){var t=e.isLoader,a=e.isShow,n=e.items,c=e.isAuth,s=e.isShowComments,i=e.fetchAddComment,o=r.a.useState(""),l=Object(He.a)(o,2),u=l[0],d=l[1];return Object(Ke.jsxs)(xt.a,{title:"\u041a\u043e\u043c\u0435\u0442\u0430\u0440\u0438\u0438",visible:a,onOk:function(){s(!1)},onCancel:function(){s(!1)},footer:null,children:[t?Object(Ke.jsx)(gt,{}):n.map((function(e){return Object(Ke.jsx)(Tt,Object(mt.a)({},e),e._id)})),c&&Object(Ke.jsxs)("div",{style:{display:"flex"},children:[Object(Ke.jsx)(Pe.a,{style:{width:"100%"},value:u,onChange:function(e){d(e.target.value)}}),Object(Ke.jsx)(st.a,{type:"primary",onClick:function(){i(u),d("")},children:"Send"})]})]})})),Et=a(68),_t=a(348),kt=a(361),At=a(362),wt=a(363),Nt=a(364),Tt=function(e){var t=e.text,a=e.author,c=Object(n.useState)(0),s=Object(He.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(0),u=Object(He.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(null),O=Object(He.a)(b,2),h=O[0],p=O[1],m=[Object(Ke.jsx)(Et.a,{title:"Like",children:Object(Ke.jsxs)("span",{onClick:function(){o(1),j(0),p("liked")},children:[Object(n.createElement)("liked"===h?kt.a:At.a),Object(Ke.jsx)("span",{className:"comment-action",children:i})]})},"comment-basic-like"),Object(Ke.jsx)(Et.a,{title:"Dislike",children:Object(Ke.jsxs)("span",{onClick:function(){o(0),j(1),p("disliked")},children:[r.a.createElement("disliked"===h?wt.a:Nt.a),Object(Ke.jsx)("span",{className:"comment-action",children:d})]})},"comment-basic-dislike")];return Object(Ke.jsx)(_t.a,{actions:m,author:a,avatar:Object(Ke.jsx)(lt.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",alt:"Han Solo"}),content:Object(Ke.jsx)("p",{children:t})})},Ct=(a(336),a.p+"static/media/play.b82a9267.svg"),It=a.p+"static/media/stop.a64e0090.svg",Rt=a(337),Bt=function(e){var t=e.bookId,a=Object(i.d)(X),n=Object(i.d)(Y),r=Object(i.c)();return Object(Ke.jsxs)("div",{onClick:function(){t!==a?(r(Qe.setAudioBookId(t)),r(Qe.setAudio(Rt.default)),r(Qe.isPlay(!0))):r(Qe.isPlay(!n))},className:"audio",children:[t===a&&n?Object(Ke.jsx)("img",{src:It,alt:"stop"}):Object(Ke.jsx)("img",{src:Ct,alt:"play"}),Object(Ke.jsx)("span",{className:"audio-play",children:"\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438"})]})},Ut=a(139),Mt=function(e){var t=e.component,a=Object(Ut.a)(e,["component"]);return Object(i.d)(W)?Object(Ke.jsx)(Me.b,{exact:a.exact,path:a.path,render:function(){return Object(Ke.jsx)(t,{})}}):Object(Ke.jsx)(Me.a,{to:Le.getSignin()})},Dt=function(e){var t=e.component,a=Object(Ut.a)(e,["component"]);return Object(i.d)(W)?Object(Ke.jsx)(Me.a,{to:Le.getBase()}):Object(Ke.jsx)(Me.b,{exact:a.exact,path:a.path,render:function(){return Object(Ke.jsx)(t,{})}})},Lt=a(351),Pt=a(357),zt=function(){var e=Object(i.d)(te),t=Object(i.d)(ae),a=Object(i.d)(ne),n=r.a.useState(0),c=Object(He.a)(n,2),s=c[0],o=c[1],l=Object(i.c)();return r.a.useEffect((function(){l(w({page:s,search:a}))}),[s,ne]),Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)("div",{className:"container",children:Object(Ke.jsxs)("div",{className:"articles",children:[e.length?e.map((function(e,t){return Object(Ke.jsx)(Je,Object(mt.a)(Object(mt.a)({},e),{},{index:t}),e._id)})):Object(Ke.jsx)("div",{style:{height:"100%",textAlign:"center",fontSize:"30px",fontWeight:"bold"},children:"\u041d\u0435\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0435\u0434\u0435\u043d\u043e"}),t>5?Object(Ke.jsx)(Lt.a,{style:{textAlign:"center"},current:s,defaultCurrent:1,defaultPageSize:5,total:t,onChange:function(e){o(e),l(w({page:e-1,search:a}))}}):null]})}),Object(Ke.jsx)(Pt.a,{})]})},Kt=(a(338),a(349)),Ft=a(350),Vt=a(353),Ht=function(e){var t=e._id,a=e.imgUrl,n=e.name;return Object(Ke.jsxs)("div",{className:"profile__list-card",children:[Object(Ke.jsx)("div",{className:"img",children:Object(Ke.jsx)("img",{src:a,alt:"avatar"})}),Object(Ke.jsxs)("div",{style:{marginLeft:"20px"},children:[Object(Ke.jsx)("h3",{className:"title",children:n}),Object(Ke.jsx)(ct,{name:n}),Object(Ke.jsx)(Bt,{bookId:t})]})]})},Qt=Vt.a.Title,Wt=function(){var e=Object(i.d)(te),t=Object(i.d)(Z),a=Object(i.d)(G),n=Object(i.c)();return Object(Ke.jsx)("div",{className:"profile",children:Object(Ke.jsxs)("div",{className:"container",children:[Object(Ke.jsx)(Kt.a,{children:Object(Ke.jsxs)("div",{className:"profile__header",children:[Object(Ke.jsxs)("div",{children:[Object(Ke.jsx)(Ft.a,{width:200,src:t}),Object(Ke.jsx)(Qt,{level:2,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440"}),Object(Ke.jsx)("input",{className:"profile__header-field",type:"file",onChange:function(e){n(de.updateAvatar(e.target.files[0]))}})]}),Object(Ke.jsxs)(Qt,{level:1,children:[Object(Ke.jsx)("span",{style:{fontSize:"20px"},children:"\u0418\u043c\u044f: "}),a]})]})}),Object(Ke.jsxs)(Kt.a,{children:[Object(Ke.jsx)(Qt,{level:3,children:"\u0412\u044b\u0431\u0440\u0430\u043d\u044b\u0435 \u043a\u0438\u043d\u0438\u0433\u0438:"}),Object(Ke.jsx)("div",{className:"profile__list",children:e.map((function(e){return Object(Ke.jsx)(Ht,Object(mt.a)({},e),e._id)}))})]})]})})},Zt=a(136),Gt=(a(340),function(e){var t=e.values,a=e.touched,n=e.errors,r=e.handleChange,c=e.handleBlur,s=e.handleSubmit,i=e.isValid,o=e.isSubmitting;return Object(Ke.jsx)("section",{className:"auth",children:Object(Ke.jsxs)("div",{className:"auth__content",children:[Object(Ke.jsxs)("div",{className:"auth__top",children:[Object(Ke.jsx)("h2",{children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(Ke.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(Ke.jsx)("div",{children:Object(Ke.jsxs)("form",{onSubmit:s,className:"login-form",children:[Object(Ke.jsx)(et,{name:"email",placeholder:"E-Mail",handleChange:r,handleBlur:c,touched:a,errors:n,values:t}),Object(Ke.jsx)(et,{name:"password",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",handleChange:r,handleBlur:c,touched:a,errors:n,values:t}),Object(Ke.jsxs)($e.a.Item,{children:[o&&!i&&Object(Ke.jsx)("span",{children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),Object(Ke.jsx)(st.a,{disabled:o,block:!0,htmlType:"submit",type:"primary",size:"large",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(Ke.jsx)(De.b,{className:"auth__register-link",to:"/signup",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})})]})})}),Xt=function(e){var t=e.isAuth,a=e.values,n=e.errors,r={email:function(e){e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(n.email="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 E-Mail"):n.email="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 E-Mail"},password:function(e){e?t||/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(e)||(n.password="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043b\u0451\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"):n.password="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"},password_2:function(e){t||e===a.password||(n.password_2="\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")},fullname:function(e){t||e||(n.fullname="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0438\u043c\u044f")}};Object.keys(a).forEach((function(e){return r[e]&&r[e](a[e])}))},Yt=Object(Zt.a)({enableReinitialize:!0,mapPropsToValues:function(){return{email:"",password:""}},validate:function(e){var t={};return Xt({isAuth:!0,values:e,errors:t}),t},handleSubmit:function(e,t){t.props.dispatch(de.fetchAuthorization(e))},displayName:"LoginForm"})(Gt),Jt=Object(i.b)()(Yt),$t=(a(341),function(e){var t=e.values,a=e.touched,n=e.errors,r=e.handleChange,c=e.handleBlur,s=e.handleSubmit,i=e.isValid,o=e.isSubmitting;return Object(Ke.jsx)("section",{className:"auth",children:Object(Ke.jsxs)("div",{className:"auth__content",children:[Object(Ke.jsxs)("div",{className:"auth__top",children:[Object(Ke.jsx)("h2",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Ke.jsx)("p",{children:"\u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(Ke.jsx)("div",{children:Object(Ke.jsxs)("form",{onSubmit:s,className:"login-form",children:[Object(Ke.jsx)(et,{name:"email",placeholder:"E-Mail",handleChange:r,handleBlur:c,touched:a,errors:n,values:t}),Object(Ke.jsx)(et,{name:"fullname",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",handleChange:r,handleBlur:c,touched:a,errors:n,values:t}),Object(Ke.jsx)(et,{name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",handleChange:r,handleBlur:c,touched:a,errors:n,values:t}),Object(Ke.jsx)(et,{name:"password_2",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",handleChange:r,handleBlur:c,touched:a,errors:n,values:t}),Object(Ke.jsxs)($e.a.Item,{children:[o&&!i&&Object(Ke.jsx)("span",{children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),Object(Ke.jsx)(st.a,{disabled:o,block:!0,type:"primary",htmlType:"submit",onSubmit:s,size:"large",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(Ke.jsx)(De.b,{className:"auth__register-link",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})})]})})}),qt=Object(Zt.a)({enableReinitialize:!0,mapPropsToValues:function(){return{email:"",fullname:"",password:"",password_2:""}},validate:function(e){var t={};return Xt({isAuth:!1,values:e,errors:t}),t},handleSubmit:function(e,t){var a=t.props;t.setSubmitting,t.setErrors;a.dispatch(de.fetchRegistration(e))},displayName:"RegisterForm"})($t),ea=Object(i.b)()(qt),ta=(a(342),a(343),Pe.a.TextArea),aa=function(e){var t=e.name,a=e.value,n=e.placeholder,r=e.error,c=e.minRows,s=void 0===c?1:c,i=e.maxRows,o=void 0===i?1:i,l=e.label,u=e.styleProp,d=e.onChange;return Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)("label",{id:t,className:rt()("input__label",{"input__label-error":r[t]}),children:l}),Object(Ke.jsx)(ta,{id:t,name:t,value:a[t],onChange:d,placeholder:n,autoSize:{minRows:s,maxRows:o},style:u})]})},na={name:"",author:"",description:""},ra=function(){var e=Object(i.c)(),t=r.a.useState(na),a=Object(He.a)(t,2),n=a[0],c=a[1],s=r.a.useState({}),o=Object(He.a)(s,2),l=o[0],u=o[1],d=function(e){var t=e.target,a=t.name,n=t.value;!0===l[a]&&u((function(e){return Object(mt.a)(Object(mt.a)({},e),{},Object(tt.a)({},a,!1))})),c((function(e){return Object(mt.a)(Object(mt.a)({},e),{},Object(tt.a)({},a,n))}))};return Object(Ke.jsx)("div",{className:"addbook",children:Object(Ke.jsx)("div",{className:"container",children:Object(Ke.jsx)("div",{className:"addbook-wrap",children:Object(Ke.jsxs)("form",{className:"addbook__form",onSubmit:function(t){t.preventDefault();var a=Object.entries(n).reduce((function(e,t){var a=Object(He.a)(t,2),n=a[0];return a[1]?e:Object(mt.a)(Object(mt.a)({},e),{},Object(tt.a)({},n,!0))}),{});if(Object.values(a).length)return u(Object(mt.a)({},a));u({}),e(N(n))},children:[Object(Ke.jsx)(aa,{name:"name",value:n,onChange:d,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",placeholder:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",error:l,styleProp:{width:"500px"}}),Object(Ke.jsx)(aa,{name:"author",value:n,onChange:d,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435  \u0418. \u0424. \u0430\u0432\u0442\u043e\u0440\u0430",placeholder:"\u0418 \u0424 \u0430\u0432\u0442\u043e\u0440\u0430",error:l,styleProp:{width:"500px"}}),Object(Ke.jsx)(aa,{name:"description",value:n,onChange:d,label:"\u041e\u043f\u0438\u0441\u044f\u043d\u0438\u0435",placeholder:"\u0418 \u0424 \u0430\u0432\u0442\u043e\u0440\u0430",error:l,minRows:3,maxRows:7,styleProp:{width:"500px"}}),Object(Ke.jsx)("div",{className:"addbook__btn",children:Object(Ke.jsx)(st.a,{type:"primary",htmlType:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})})})})},ca=function(){var e=Object(i.d)(X),t=Object(i.d)($);return Object(Ke.jsx)(De.a,{children:Object(Ke.jsxs)("div",{className:"wrapper",children:[Object(Ke.jsx)(Ve,{}),Object(Ke.jsxs)(Me.d,{children:[Object(Ke.jsx)(Dt,{exact:!0,path:Le.getSignin(),component:Jt}),Object(Ke.jsx)(Dt,{exact:!0,path:Le.getSignup(),component:ea}),Object(Ke.jsx)(Mt,{exact:!0,path:Le.getAddBook(),component:ra}),Object(Ke.jsx)(Mt,{exact:!0,path:Le.getProfile(),component:Wt}),Object(Ke.jsx)(Me.b,{path:Le.getBase(),component:zt}),Object(Ke.jsx)(Me.b,{path:"*",children:Object(Ke.jsx)(Me.a,{to:Le.getBase()})})]}),!!e&&Object(Ke.jsx)(pt,{}),t&&Object(Ke.jsx)(St,{})]})})};Ue.dispatch(de.userProfile()),Ue.dispatch(w({}));var sa=function(){return Object(Ke.jsx)(i.a,{store:Ue,children:Object(Ke.jsx)(ca,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(Ke.jsx)(sa,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[344,1,2]]]);
//# sourceMappingURL=main.6d6bcad6.chunk.js.map