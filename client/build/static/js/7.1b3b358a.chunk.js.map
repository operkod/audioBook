{"version":3,"sources":["components/input/FieldAuth.tsx","helpers/validators.ts","page/Signup/index.tsx"],"names":["FormField","props","name","placeholder","type","handleChange","handleBlur","errors","values","Item","validateStatus","status","undefined","help","text","hasFeedback","id","size","value","onChange","onBlur","emailValidator","email","test","RegisterForm","t","useTranslation","dispatch","useDispatch","isLoading","useSelector","getAuthLoading","React","useState","fullname","password","password_2","formaData","setFormData","error","setError","useCallback","event","target","prev","isValidEmail","passwordEquality","isButtonDisabled","useMemo","Object","some","item","handleSubmit","preventDefault","entries","reduce","acc","key","Actions","fetchRegistration","className","onSubmit","disabled","block","htmlType","to","routers","getSignin"],"mappings":"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","file":"static/js/7.1b3b358a.chunk.js","sourcesContent":["import { Form, Input } from 'antd'\r\nimport { ChangeEvent, FocusEvent } from 'react'\r\n\r\ntype PropsType = {\r\n\tname: string\r\n\tplaceholder: string\r\n\ttype: string\r\n\thandleChange: (event: ChangeEvent<HTMLInputElement>) => void\r\n\thandleBlur: (event: FocusEvent<HTMLInputElement>) => void\r\n\terrors: any\r\n\tvalues: any\r\n}\r\n\r\nconst FormField = (props: PropsType) => {\r\n\tconst { name, placeholder, type, handleChange, handleBlur, errors, values } =\r\n\t\tprops\r\n\treturn (\r\n\t\t<Form.Item\r\n\t\t\tvalidateStatus={errors[name].status ? 'error' : undefined}\r\n\t\t\thelp={errors[name].status ? errors[name].text : undefined}\r\n\t\t\thasFeedback>\r\n\t\t\t<Input\r\n\t\t\t\tid={name}\r\n\t\t\t\tname={name}\r\n\t\t\t\tsize='large'\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tvalue={values[name]}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\ttype={type}\r\n\t\t\t/>\r\n\t\t</Form.Item>\r\n\t)\r\n}\r\nexport default FormField\r\n","export const emailValidator = (email: string) => {\r\n   // eslint-disable-next-line no-useless-escape\r\n  const reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/\r\n  return reg.test(email)\r\n}\r\n\r\nexport const phoneValidator = (phone: string) => {\r\n  // eslint-disable-next-line no-useless-escape\r\n  const reg = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/\r\n  return reg.test(phone)\r\n}\r\n","import './Auth.scss'\r\nimport React from 'react'\r\nimport { Form, Button } from 'antd'\r\nimport { Link } from 'react-router-dom'\r\nimport FormField from 'components/input/FieldAuth'\r\nimport { FormDataErrorType, RegistrationFormType } from 'types'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getAuthLoading } from 'redux/selectors'\r\nimport { emailValidator } from 'helpers/validators'\r\nimport Actions from 'redux/action/user'\r\nimport routers from 'const/routers'\r\n\r\nconst RegisterForm = () => {\r\n\tconst { t } = useTranslation()\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst isLoading = useSelector(getAuthLoading)\r\n\tconst [formaData, setFormData] = React.useState<RegistrationFormType>({\r\n\t\temail: '',\r\n\t\tfullname: '',\r\n\t\tpassword: '',\r\n\t\tpassword_2: ''\r\n\t})\r\n\tconst [error, setError] = React.useState<FormDataErrorType>({\r\n\t\temail: { status: false, text: '' },\r\n\t\tfullname: { status: false, text: '' },\r\n\t\tpassword: { status: false, text: '' },\r\n\t\tpassword_2: { status: false, text: '' }\r\n\t})\r\n\r\n\tconst handleChange = React.useCallback(\r\n\t\t(event: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\t\tconst { name, value } = event.target\r\n\t\t\tif (error[name].status === true) {\r\n\t\t\t\tsetError(prev => ({ ...prev, [name]: { status: false, text: '' } }))\r\n\t\t\t}\r\n\t\t\tsetFormData(prev => ({ ...prev, [name]: value }))\r\n\t\t},\r\n\t\t[error]\r\n\t)\r\n\r\n\tconst handleBlur = React.useCallback(\r\n\t\t(event: React.FocusEvent<HTMLInputElement>) => {\r\n\t\t\tconst { name, value } = event.target\r\n\t\t\tif (name === 'email' && value) {\r\n\t\t\t\tconst isValidEmail = !emailValidator(value)\r\n\t\t\t\tsetError(prev => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\t[name]: {\r\n\t\t\t\t\t\tstatus: isValidEmail,\r\n\t\t\t\t\t\ttext: isValidEmail ? t('errors.emailNotValid') : ''\r\n\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t} else if (name === 'password_2' && value) {\r\n\t\t\t\tconst passwordEquality = formaData.password !== value\r\n\t\t\t\tsetError(prev => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\t[name]: {\r\n\t\t\t\t\t\tstatus: passwordEquality,\r\n\t\t\t\t\t\ttext: passwordEquality ? t('errors.passwordsEquality') : ''\r\n\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t} else if (name === 'password' && formaData.password_2 && value) {\r\n\t\t\t\tconst passwordEquality = formaData.password !== formaData.password_2\r\n\t\t\t\tsetError(prev => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tpassword_2: {\r\n\t\t\t\t\t\tstatus: passwordEquality,\r\n\t\t\t\t\t\ttext: passwordEquality ? t('errors.passwordsEquality') : ''\r\n\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t} else {\r\n\t\t\t\tsetError(prev => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\t[name]: { status: !value, text: !value ? t('errors.required') : '' }\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t},\r\n\t\t[t, formaData]\r\n\t)\r\n\r\n\tconst isButtonDisabled = React.useMemo(\r\n\t\t() => Object.values(error).some(item => item.status === true) || isLoading,\r\n\t\t[error, isLoading]\r\n\t)\r\n\r\n\tconst handleSubmit = React.useCallback(\r\n\t\t(event: React.FormEvent) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tconst checkFillingInput = Object.entries(formaData).reduce(\r\n\t\t\t\t(acc, [key, value]) => {\r\n\t\t\t\t\tif (!value) {\r\n\t\t\t\t\t\tsetError(prev => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t[key]: { status: true, text: t('errors.required') }\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t\treturn (acc = true)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t},\r\n\t\t\t\tfalse\r\n\t\t\t)\r\n\t\t\tif (checkFillingInput) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tdispatch(Actions.fetchRegistration(formaData))\r\n\t\t},\r\n\t\t[t, formaData, dispatch]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<section className='auth'>\r\n\t\t\t<div className='auth__content'>\r\n\t\t\t\t<div className='auth__top'>\r\n\t\t\t\t\t<h2>{t('auth.headerRegistration.title')}</h2>\r\n\t\t\t\t\t<p>{t('auth.headerRegistration.subtitle')}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<form onSubmit={handleSubmit} className='login-form'>\r\n\t\t\t\t\t\t<FormField\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tplaceholder={t('auth.input.email')}\r\n\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\thandleBlur={handleBlur}\r\n\t\t\t\t\t\t\terrors={error}\r\n\t\t\t\t\t\t\tvalues={formaData}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormField\r\n\t\t\t\t\t\t\tname='fullname'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tplaceholder={t('auth.input.fullName')}\r\n\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\thandleBlur={handleBlur}\r\n\t\t\t\t\t\t\terrors={error}\r\n\t\t\t\t\t\t\tvalues={formaData}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<FormField\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tplaceholder={t('auth.input.password')}\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\thandleBlur={handleBlur}\r\n\t\t\t\t\t\t\terrors={error}\r\n\t\t\t\t\t\t\tvalues={formaData}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormField\r\n\t\t\t\t\t\t\tname='password_2'\r\n\t\t\t\t\t\t\tplaceholder={t('auth.input.password')}\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\thandleBlur={handleBlur}\r\n\t\t\t\t\t\t\terrors={error}\r\n\t\t\t\t\t\t\tvalues={formaData}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={isButtonDisabled}\r\n\t\t\t\t\t\t\t\tblock={true}\r\n\t\t\t\t\t\t\t\ttype='primary'\r\n\t\t\t\t\t\t\t\thtmlType='submit'\r\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\t\t\tsize='large'>\r\n\t\t\t\t\t\t\t\t{t('auth.button.registration')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Link className='auth__register-link' to={routers.getSignin()}>\r\n\t\t\t\t\t\t\t{t('auth.button.signIn')}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t)\r\n}\r\n\r\nexport default RegisterForm\r\n"],"sourceRoot":""}