{"version":3,"sources":["components/Language/index.tsx","assets/img/logo.svg","components/Header/index.tsx","assets/img/comment.svg","assets/img/like-up.svg","assets/img/like.svg","components/Article/index.tsx","assets/img/author.svg","components/AuthorBlock/index.tsx","assets/img/user.svg","components/Menu/components/WebMenu.tsx","components/Menu/components/MobileMenu.tsx","components/Menu/index.tsx","components/AudioPlayer/index.tsx","components/Modal/index.tsx","components/Comment/index.tsx","components/Layout/index.tsx","components/Block.tsx","api/index.tsx","hooks/useSocketChat.ts","components/Sidebar/index.tsx","helpers/getParams.ts","page/Home/BooksScreen.tsx","page/Home/index.tsx","components/AppRouter/PublicRoute.tsx","components/AppRouter/PrivateRoute.tsx","components/AppRouter/index.tsx","localization/index.ts","redux/action/settings.ts","settings.ts","redux/reducer/audio.ts","redux/reducer/user.ts","redux/reducer/comments.ts","redux/reducer/books.ts","redux/reducer/settings.ts","redux/reducer/index.ts","api/book.ts","helpers/openNotification.ts","redux/saga/books.ts","redux/saga/comments.ts","api/user.ts","redux/saga/user.ts","redux/saga/index.ts","redux/store.ts","App.tsx","assets/img/play.svg","assets/img/stop.svg","components/button/ButtonPlay/index.tsx","redux/selectors/index.tsx","assets/audio/as.mp3","const/routers.tsx","helpers/token.tsx","redux/action/user.ts","serviceWorker.js","index.js","redux/action/books.ts","redux/action/comments.ts","redux/action/audioPlayer.ts","components/Loader/index.tsx"],"names":["Language","React","useState","getLanguage","active","setActive","i18n","useTranslation","changeLanguage","lang","Container","Item","onClick","styled","ul","li","css","Search","Input","useStyles","createUseStyles","header","position","top","left","right","zIndex","backgroundColor","boxShadow","content","display","alignItems","padding","logo","width","nav","marginLeft","search","Header","t","history","useHistory","dispatch","useDispatch","styles","globalStyles","useGlobalStyles","useSelector","getBooksParams","valueForm","setValueForm","useEffect","className","container","to","routers","getBase","src","logoIcon","alt","placeholder","onSearch","value","Actions","setParams","trim","page","totalPage","push","defaultValue","onChange","event","target","enterButton","article","transition","color","borderRadius","articleLeft","overflow","margin","articleImage","height","transform","description","paddingLeft","flexDirection","justifyContent","marginBottom","center","footer","body","likeImage","cursor","title","fontSize","fontWeight","text","textOverflow","Article","props","_id","name","author","imgUrl","comments","likes","ActionsBook","requestAddLike","id","status","like","likeUp","Block","valueStyle","whiteSpace","count","prefix","bookId","length","icon","commentIcon","ActionsComment","fetchComments","AuthorBlock","style","classNames","authorIcon","WebMenu","isAuth","avatar","overlay","getAddBook","getProfile","logOut","danger","placement","size","userIcon","getSignin","type","getSignup","memo","MobileMenu","block","Menu","getScreenWidth","getAuth","getAvatar","isShowMenuMobile","useMemo","AudioPlayer","myPlayer","useRef","isPlay","getPlay","audioSrc","getAudioSrc","current","audio","play","pause","handleClick","autoPlay","ref","onPlay","onPause","autoPlayAfterSrcChange","mapDispatchToProps","isShowComments","fetchAddComment","connect","state","items","getComments","isShow","getCommentsShow","isLoader","getCommentsLoader","setValue","visible","onOk","onCancel","Loader","map","item","Comment","e","CommentBase","setLikes","dislikes","setDislikes","action","setAction","actions","createElement","LikeFilled","LikeOutlined","DislikeFilled","DislikeOutlined","MyLayout","children","isAudio","getAudioId","showModal","wrapper","axios","defaults","baseURL","window","location","origin","socket","io","useSocketChat","Math","random","message","date","Date","messages","setMessages","addMessage","useCallback","obj","token","getToken","emit","on","msg","prev","concat","a","get","data","console","log","TextArea","sidebar","minWidth","wrap","main","overflowX","overflowY","background","Sidebar","formValue","setFormValue","myRef","scrollTo","index","autoSize","minRows","maxRows","marginTop","Object","keys","reduce","accumulator","loader","error","textAlign","BooksScreen","books","getBooks","getBooksIsLoader","params","queryString","parse","parseNumbers","parseBooleans","getParams","requestBook","minHeight","book","defaultCurrent","defaultPageSize","total","valuePage","home","paddingRight","Home","PublicRoute","Component","component","rest","exact","path","render","PrivateRoute","Signin","lazy","Signup","Profile","AddBook","AppRouters","fallback","use","backend","LanguageDetector","initReactI18next","init","lng","fallbackLng","debug","process","resources","en","translation","ru","detection","order","caches","interpolation","escapeValue","SetSettings","settings","payload","StalerScreen","resizeHandler","screenDimensions","innerWidth","innerHeight","addEventListener","removeEventListener","initialState","initialUser","fullname","isLoading","rootReducer","combineReducers","user","produce","draft","findIndex","el","pop","getHeadersToken","headers","authorization","fetchBooks","setBookComment","postData","post","getBookComment","setLike","openNotification","duration","notification","workerRequestBook","workerRequestAddBook","workerRequestAddLike","sagaWatcherBook","select","put","setBooksLoader","call","setBooks","fakeApi","time","Promise","resolve","setTimeout","responseAddBook","takeEvery","sagaWorkerComment","sagaWorkerAddComment","sagaWatcherComment","getCommentsCount","setCommentId","setComments","createComment","addComment","ActionsBooks","addCountBook","getMe","signIn","signUp","savePhoto","photoFile","formData","FormData","append","workerLogout","workerAuthorization","workerRegistration","workerProfile","workerUpdateAvatar","watcherUser","removeToken","setIsAuth","setToken","setUserData","response","rootWatcher","all","saga","createSagaMiddleware","middleware","thunk","logger","rootStore","createStore","applyMiddleware","run","store","userProfile","boxSizing","fontFamily","h1","h2","fontStyle","lineHeight","h3","h4","textDecoration","outline","button","border","input","textarea","maxWidth","App","AppRouter","pathMp3","require","ButtonPlay","audioPlayerId","setAudioBookId","setAudio","default","stopIcon","playIcon","getAuthLoading","getUserName","TOKEN","LANGUAGE","localStorage","setItem","getItem","removeItem","fetchAuthorization","fetchRegistration","updateAvatar","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","addCommentBookError","requestAddBook"],"mappings":"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","file":"static/js/main.68029e5a.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { getLanguage } from 'helpers/token';\r\n\r\nconst Language = () => {\r\n  const [active, setActive] = React.useState(getLanguage());\r\n  const { i18n } = useTranslation();\r\n  const changeLanguage = (lang: string) => {\r\n    i18n.changeLanguage(lang);\r\n    setActive(lang);\r\n  };\r\n  return (\r\n    <Container>\r\n      <Item active={active === 'ru'} onClick={() => changeLanguage('ru')}>\r\n        RU\r\n      </Item>\r\n      <Item active={active === 'en'} onClick={() => changeLanguage('en')}>\r\n        EN\r\n      </Item>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Language;\r\n\r\nconst Container = styled.ul`\r\n  display: flex;\r\n`;\r\nconst Item = styled.li`\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n  transition: color 0.2s ease;\r\n  font-weight: 700;\r\n  &:hover {\r\n    color: red;\r\n  }\r\n  ${({ active }: { active?: boolean }) =>\r\n    active &&\r\n    css`\r\n      cursor: default;\r\n      color: red;\r\n    `}\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/logo.51a0411d.svg\";","import React, { useState, useEffect } from 'react';\r\nimport { Input } from 'antd';\r\nimport { createUseStyles } from 'react-jss';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useGlobalStyles } from 'App';\r\nimport { Menu } from 'components';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Actions } from 'redux/action/books';\r\nimport routers from 'const/routers';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Language from 'components/Language';\r\nimport logoIcon from 'assets/img/logo.svg';\r\nimport { getBooksParams } from 'redux/selectors';\r\n\r\nconst { Search } = Input;\r\n\r\nconst Header = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const styles = useStyles();\r\n  const globalStyles = useGlobalStyles();\r\n  const { search } = useSelector(getBooksParams);\r\n  const [valueForm, setValueForm] = useState('');\r\n\r\n  const searchHandler = (value: string) => {\r\n    dispatch(Actions.setParams({ search: value.trim(), page: 0, totalPage: 0 }));\r\n    history.push(routers.getBase());\r\n  };\r\n  useEffect(() => {\r\n    if (search === valueForm) return;\r\n    setValueForm(search);\r\n  }, [search]);\r\n\r\n  const changeHandler = (event: any) => {\r\n    const { value } = event.target;\r\n    setValueForm(value);\r\n  };\r\n  return (\r\n    <div className={styles.header}>\r\n      <div className={globalStyles.container}>\r\n        <div className={styles.content}>\r\n          <div className={styles.logo}>\r\n            <Link to={routers.getBase()}>\r\n              <img src={logoIcon} alt=\"Books\" width=\"100%\" />\r\n            </Link>\r\n          </div>\r\n          <div className={styles.search}>\r\n            <Search\r\n              placeholder={t('search')}\r\n              onSearch={searchHandler}\r\n              defaultValue={search}\r\n              value={valueForm}\r\n              onChange={changeHandler}\r\n              enterButton\r\n            />\r\n          </div>\r\n          <div className={styles.nav}>\r\n            <Menu />\r\n          </div>\r\n          <Language />\r\n          {/* <Switch checked={valueChecked} onChange={onChangeTheme} /> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles({\r\n  header: {\r\n    position: 'sticky',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    zIndex: 1000,\r\n    backgroundColor: '#eef0f1',\r\n    boxShadow: '0px 0px 20px 0px #c2bfbf',\r\n  },\r\n  content: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: '1rem 0',\r\n  },\r\n  logo: {\r\n    width: '50px',\r\n  },\r\n  nav: {\r\n    '& a': {\r\n      marginLeft: '2rem',\r\n    },\r\n  },\r\n  search: {\r\n    marginLeft: 'auto',\r\n    width: '300px',\r\n  },\r\n});\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/comment.df5e7701.svg\";","export default __webpack_public_path__ + \"static/media/like-up.0fd910a4.svg\";","export default __webpack_public_path__ + \"static/media/like.3202d8c4.svg\";","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { createUseStyles } from 'react-jss';\r\nimport { Statistic } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Actions as ActionsComment } from 'redux/action/comments';\r\nimport { Actions as ActionsBook } from 'redux/action/books';\r\nimport { AuthorBlock } from 'components';\r\nimport { ButtonPlay } from 'components/button';\r\nimport { BookType } from 'types';\r\nimport Block from 'components/Block';\r\n\r\nimport commentIcon from 'assets/img/comment.svg';\r\nimport logo from 'assets/img/logo.svg';\r\nimport like from 'assets/img/like-up.svg';\r\nimport likeUp from 'assets/img/like.svg';\r\n\r\nconst Article: React.FC<BookType> = (props) => {\r\n  const { _id, name, author, imgUrl, description, comments, likes } = props;\r\n  const dispatch = useDispatch();\r\n  const { t } = useTranslation();\r\n  const styles = useStyles();\r\n  const handleClick = () => dispatch(ActionsComment.fetchComments(_id));\r\n\r\n  const likeHandler = () => {\r\n    dispatch(ActionsBook.requestAddLike({ id: _id }));\r\n  };\r\n\r\n  const likeImage = (\r\n    <img className={styles.likeImage} onClick={likeHandler} src={likes.status ? like : likeUp} alt=\"like\" />\r\n  );\r\n\r\n  return (\r\n    <Block className={styles.article}>\r\n      <div className={styles.articleLeft}>\r\n        <div className={styles.articleImage}>\r\n          <img src={imgUrl || logo} alt={name} />\r\n        </div>\r\n      </div>\r\n      <div className={styles.description}>\r\n        <div>\r\n          <div className={styles.body}>\r\n            <h2 className={styles.title}>{name}</h2>\r\n            <Statistic\r\n              valueStyle={{ fontSize: '1.2rem', whiteSpace: 'nowrap' }}\r\n              value={likes.count}\r\n              prefix={likeImage}\r\n            />\r\n          </div>\r\n          <p className={styles.text}>{description}</p>\r\n        </div>\r\n        <AuthorBlock name={author} />\r\n        <div className={styles.footer}>\r\n          <ButtonPlay bookId={_id} />\r\n          <AuthorBlock\r\n            className={styles.center}\r\n            name={comments.length ? `${comments.length} ${t('article.comment.yes')}` : t('article.comment.no')}\r\n            icon={commentIcon}\r\n            onClick={handleClick}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Block>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles({\r\n  article: {\r\n    transition: 'background-color 0.3s ease',\r\n    color: '#000',\r\n    display: 'flex',\r\n    borderRadius: '10px',\r\n    '@media (max-width: 500px)': {\r\n      display: 'block',\r\n    },\r\n  },\r\n  articleLeft: {\r\n    width: ' 25%',\r\n    overflow: 'hidden',\r\n    '@media (max-width: 500px)': {\r\n      width: '100%',\r\n      margin: '0 auto 25px',\r\n    },\r\n    '@media (max-width: 600px)': {\r\n      width: '150px',\r\n    },\r\n  },\r\n  articleImage: {\r\n    position: 'relative',\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n    height: ' 250px',\r\n    '& img': {\r\n      position: 'absolute',\r\n      top: '50%',\r\n      left: '50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      width: 'auto',\r\n      height: '100%',\r\n    },\r\n  },\r\n\r\n  description: {\r\n    paddingLeft: '10px',\r\n    width: '75%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    '@media (max-width: 500px)': {\r\n      width: '100%',\r\n      marginBottom: '25px',\r\n    },\r\n  },\r\n  center: {\r\n    margin: ' 5px auto',\r\n  },\r\n  footer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    '@media (max-width: 500px)': {\r\n      display: 'flex',\r\n    },\r\n    '@media (max-width: 600px)': {\r\n      display: 'block',\r\n    },\r\n  },\r\n  body: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  likeImage: {\r\n    width: ' 26px',\r\n    marginBottom: '10px',\r\n    cursor: 'pointer',\r\n  },\r\n  title: {\r\n    color: 'inherit',\r\n    display: 'inline',\r\n    fontSize: '2rem',\r\n    fontWeight: '700',\r\n  },\r\n  text: {\r\n    fontSize: '1.1rem',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n  },\r\n});\r\n\r\nexport default Article;\r\n","export default __webpack_public_path__ + \"static/media/author.d1370a05.svg\";","import React from 'react';\r\nimport authorIcon from 'assets/img/author.svg';\r\nimport classNames from 'classnames';\r\n\r\nimport './AuthorBlock.scss';\r\n\r\ntype props = {\r\n  name?: string;\r\n  onClick?: () => void;\r\n  icon?: string;\r\n  className?: string;\r\n  style?: any;\r\n};\r\n\r\nconst AuthorBlock: React.FC<props> = (props) => {\r\n  const { onClick, name, icon, className, style } = props;\r\n  return (\r\n    <div className={classNames('author', { [`${className}`]: !!className })} onClick={onClick} style={style}>\r\n      <div className=\"author-img\">\r\n        <img src={icon || authorIcon} alt={name} width=\"100%\" />\r\n      </div>\r\n      <div className=\"author-name\">{name}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthorBlock;\r\n","export default __webpack_public_path__ + \"static/media/user.4a895b67.svg\";","/*eslint-disable */\r\nimport React from 'react';\r\nimport { Menu as MenuAntd, Dropdown, Avatar, Button } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Actions from 'redux/action/user';\r\nimport { MenuProps } from 'components/Menu';\r\nimport routers from 'const/routers';\r\n\r\nimport userIcon from 'assets/img/user.svg';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst WebMenu: React.FC<MenuProps> = ({ isAuth, avatar }) => {\r\n  const dispatch = useDispatch();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <>\r\n      {!isAuth ? (\r\n        <>\r\n          <Link to={routers.getSignin()}>\r\n            <Button type=\"primary\">{t('auth.button.signIn')}</Button>\r\n          </Link>\r\n          <Link to={routers.getSignup}>\r\n            <Button type=\"primary\">{t('auth.button.registration')}</Button>\r\n          </Link>\r\n        </>\r\n      ) : (\r\n        <Dropdown\r\n          overlay={\r\n            <MenuAntd>\r\n              <MenuAntd.Item>\r\n                <Link className=\"nav-link\" to={routers.getAddBook()}>\r\n                  {t('menu.addBook')}\r\n                </Link>\r\n              </MenuAntd.Item>\r\n              <MenuAntd.Item>\r\n                <Link to={routers.getProfile()}>{t('menu.profile')}</Link>\r\n              </MenuAntd.Item>\r\n              <MenuAntd.Item onClick={() => dispatch(Actions.logOut())} danger>\r\n                {t('menu.logout')}\r\n              </MenuAntd.Item>\r\n            </MenuAntd>\r\n          }\r\n          placement=\"bottomRight\"\r\n        >\r\n          <Avatar className=\"avatar\" size=\"large\" icon={<img src={avatar || userIcon} alt=\"UserAvatar\" />} />\r\n        </Dropdown>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(WebMenu);\r\n","/*eslint-disable */\r\nimport React from 'react';\r\nimport { Menu as MenuAntd, Dropdown, Avatar, Button } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Actions from 'redux/action/user';\r\nimport { MenuProps } from 'components/Menu';\r\nimport routers from 'const/routers';\r\n\r\nimport userIcon from 'assets/img/user.svg';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst MobileMenu: React.FC<MenuProps> = ({ isAuth, avatar }) => {\r\n  const dispatch = useDispatch();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <MenuAntd>\r\n      {!isAuth ? (\r\n        <>\r\n          <Dropdown\r\n            overlay={\r\n              <MenuAntd>\r\n                <MenuAntd.Item>\r\n                  <Link to={routers.getSignin()}>\r\n                    <Button block type=\"primary\">\r\n                      {t('auth.button.signIn')}\r\n                    </Button>\r\n                  </Link>\r\n                </MenuAntd.Item>\r\n                <MenuAntd.Item>\r\n                  <Link to={routers.getSignup()}>\r\n                    <Button type=\"primary\">{t('auth.button.registration')}</Button>\r\n                  </Link>\r\n                </MenuAntd.Item>\r\n              </MenuAntd>\r\n            }\r\n            placement=\"bottomRight\"\r\n          >\r\n            <Avatar className=\"avatar\" size=\"large\" icon={<img src={avatar || userIcon} alt=\"UserAvatar\" />} />\r\n          </Dropdown>\r\n        </>\r\n      ) : (\r\n        <Dropdown\r\n          overlay={\r\n            <>\r\n              <MenuAntd>\r\n                <MenuAntd.Item>\r\n                  <Link className=\"nav-link\" to={routers.getAddBook()}>\r\n                    {t('menu.addBook')}\r\n                  </Link>\r\n                </MenuAntd.Item>\r\n                <MenuAntd.Item>\r\n                  <Link to={routers.getProfile()}>{t('menu.profile')}</Link>\r\n                </MenuAntd.Item>\r\n                <MenuAntd.Item onClick={() => dispatch(Actions.logOut())} danger>\r\n                  {t('menu.logout')}\r\n                </MenuAntd.Item>\r\n              </MenuAntd>\r\n            </>\r\n          }\r\n          placement=\"bottomRight\"\r\n        >\r\n          <Avatar className=\"avatar\" size=\"large\" icon={<img src={avatar || userIcon} alt=\"UserAvatar\" />} />\r\n        </Dropdown>\r\n      )}\r\n    </MenuAntd>\r\n  );\r\n};\r\n\r\nexport default React.memo(MobileMenu);\r\n","import './Avatar.scss';\r\nimport React, { useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getAuth, getAvatar, getScreenWidth } from 'redux/selectors';\r\nimport WebMenu from './components/WebMenu';\r\nimport MobileMenu from './components/MobileMenu';\r\n\r\n// const width: number = window.innerWidth\r\nconst mobileWidth: number = 850;\r\n\r\nexport type MenuProps = {\r\n  isAuth: boolean;\r\n  avatar: string;\r\n};\r\n\r\nconst Menu = () => {\r\n  const width = useSelector(getScreenWidth);\r\n  const isAuth = useSelector(getAuth);\r\n  const avatar = useSelector(getAvatar);\r\n\r\n  const isShowMenuMobile = useMemo(() => mobileWidth > width, [width]);\r\n\r\n  return (\r\n    <>\r\n      {isShowMenuMobile ? <MobileMenu isAuth={isAuth} avatar={avatar} /> : <WebMenu isAuth={isAuth} avatar={avatar} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import './AudioPlayer.scss';\r\nimport 'react-h5-audio-player/src/styles.scss';\r\nimport React from 'react';\r\nimport H5AudioPlayer from 'react-h5-audio-player';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Actions } from 'redux/action/audioPlayer';\r\nimport { getAudioSrc, getPlay } from 'redux/selectors';\r\n\r\nconst AudioPlayer = () => {\r\n  const myPlayer = React.useRef<any>(null);\r\n  const dispatch = useDispatch();\r\n  const isPlay = useSelector(getPlay);\r\n  const audioSrc = useSelector(getAudioSrc);\r\n\r\n  React.useEffect(() => {\r\n    if (isPlay) {\r\n      myPlayer.current.audio.current.play();\r\n    } else if (!isPlay) {\r\n      myPlayer.current.audio.current.pause();\r\n    }\r\n  }, [isPlay]);\r\n\r\n  const handleClick = ({ type }: any) => {\r\n    if (type === 'play') {\r\n      dispatch(Actions.isPlay(true));\r\n    } else if (type === 'pause') {\r\n      dispatch(Actions.isPlay(false));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"audio-player\">\r\n      <div className=\"container\">\r\n        <H5AudioPlayer\r\n          autoPlay={false}\r\n          ref={myPlayer}\r\n          src={audioSrc}\r\n          onPlay={handleClick}\r\n          onPause={handleClick}\r\n          autoPlayAfterSrcChange\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AudioPlayer;\r\n","/*eslint-disable */\r\nimport './Modal.scss';\r\nimport React from 'react';\r\nimport { StateType } from 'redux/reducer';\r\nimport { connect } from 'react-redux';\r\nimport { Modal as ModalBase, Input, Button } from 'antd';\r\nimport { Actions } from 'redux/action/comments';\r\nimport { CommentsType } from 'types';\r\nimport Loader from 'components/Loader';\r\nimport { Comment } from 'components';\r\nimport { getComments, getCommentsShow, getAuth, getCommentsLoader } from 'redux/selectors';\r\n\r\ntype StateProps = {\r\n  isShow: boolean;\r\n  items: Array<CommentsType>;\r\n  isAuth: boolean;\r\n  isLoader: boolean;\r\n};\r\ntype DispatchProps = {\r\n  isShowComments: (v: boolean) => void;\r\n  fetchAddComment: (v: string) => void;\r\n};\r\ntype Props = StateProps & DispatchProps;\r\n\r\nconst Modal: React.FC<Props> = ({ isLoader, isShow, items, isAuth, isShowComments, fetchAddComment }) => {\r\n  const [value, setValue] = React.useState('');\r\n\r\n  const handleOk = () => {\r\n    isShowComments(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    isShowComments(false);\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    fetchAddComment(value);\r\n    setValue('');\r\n  };\r\n\r\n  return (\r\n    <ModalBase title=\"Кометарии\" visible={isShow} onOk={handleOk} onCancel={handleCancel} footer={null}>\r\n      {isLoader ? <Loader /> : items.map((item: CommentsType) => <Comment key={item._id} {...item} />)}\r\n      {isAuth && (\r\n        <div style={{ display: 'flex' }}>\r\n          <Input style={{ width: '100%' }} value={value} onChange={handleChange} />\r\n          <Button type=\"primary\" onClick={handleClick}>\r\n            Send\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </ModalBase>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StateType): StateProps => ({\r\n  items: getComments(state),\r\n  isShow: getCommentsShow(state),\r\n  isAuth: getAuth(state),\r\n  isLoader: getCommentsLoader(state),\r\n});\r\nconst mapDispatchToProps: DispatchProps = {\r\n  isShowComments: Actions.isShowComments,\r\n  fetchAddComment: Actions.fetchComments,\r\n};\r\n\r\nexport default connect<StateProps, DispatchProps, any, StateType>(mapStateToProps, mapDispatchToProps)(Modal);\r\n","/*eslint-disable */\r\nimport React, { createElement, useState } from 'react';\r\nimport { Comment, Tooltip, Avatar } from 'antd';\r\nimport { DislikeOutlined, LikeOutlined, DislikeFilled, LikeFilled } from '@ant-design/icons';\r\nimport { CommentsType } from 'types';\r\n\r\nconst CommentBase: React.FC<CommentsType> = ({ text, author }) => {\r\n  const [likes, setLikes] = useState(0);\r\n  const [dislikes, setDislikes] = useState(0);\r\n  const [action, setAction] = useState<null | string>(null);\r\n\r\n  const like = () => {\r\n    setLikes(1);\r\n    setDislikes(0);\r\n    setAction('liked');\r\n  };\r\n\r\n  const dislike = () => {\r\n    setLikes(0);\r\n    setDislikes(1);\r\n    setAction('disliked');\r\n  };\r\n\r\n  const actions = [\r\n    <Tooltip key=\"comment-basic-like\" title=\"Like\">\r\n      <span onClick={like}>\r\n        {createElement(action === 'liked' ? LikeFilled : LikeOutlined)}\r\n        <span className=\"comment-action\">{likes}</span>\r\n      </span>\r\n    </Tooltip>,\r\n    <Tooltip key=\"comment-basic-dislike\" title=\"Dislike\">\r\n      <span onClick={dislike}>\r\n        {React.createElement(action === 'disliked' ? DislikeFilled : DislikeOutlined)}\r\n        <span className=\"comment-action\">{dislikes}</span>\r\n      </span>\r\n    </Tooltip>,\r\n  ];\r\n  return (\r\n    <Comment\r\n      actions={actions}\r\n      author={author}\r\n      avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" alt=\"Han Solo\" />}\r\n      content={<p>{text}</p>}\r\n    />\r\n  );\r\n};\r\nexport default CommentBase;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Header, AudioPlayer, Modal } from 'components';\r\nimport { getAudioId, getCommentsShow } from 'redux/selectors';\r\n// import { WIDTH_SIDEBAR } from 'components/Sidebar';\r\nimport { createUseStyles } from 'react-jss';\r\n\r\n// TODO:\r\n\r\nconst MyLayout = ({ children }: any) => {\r\n  const isAudio = useSelector(getAudioId);\r\n  const showModal = useSelector(getCommentsShow);\r\n  // const width = useSelector(getScreenWidth);\r\n  const styles = useStyles();\r\n  // const widthPercent = React.useMemo(() => ((width - WIDTH_SIDEBAR) * 100) / width, [width]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className={styles.wrapper}>{children}</div>\r\n      {!!isAudio && <AudioPlayer />}\r\n      {showModal && <Modal />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyLayout;\r\n\r\nconst useStyles = createUseStyles({\r\n  wrapper: {\r\n    // display: 'flex',\r\n  },\r\n});\r\n","import React, { FC } from 'react';\r\n\r\ntype PropsTypes = {\r\n  children?: any;\r\n  className?: string;\r\n};\r\n\r\nconst Block: FC<PropsTypes> = ({ children, className }) => (\r\n  <div\r\n    className={className}\r\n    style={{\r\n      backgroundColor: '#fff',\r\n      borderRadius: '10px',\r\n      margin: '20px',\r\n      padding: '15px',\r\n    }}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default Block;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = window.location.origin;\r\n\r\nexport default axios;\r\n","import axios from 'api';\r\nimport { getToken } from 'helpers/token';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nconst socket = io();\r\n\r\nconst useSocketChat = () => {\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      id: Math.random(),\r\n      author: 'Saha',\r\n      avatar: '',\r\n      message: 'hello brat',\r\n      date: new Date(),\r\n    },\r\n  ]);\r\n\r\n  const addMessage = useCallback((message) => {\r\n    const obj = {\r\n      token: getToken(),\r\n      message,\r\n    };\r\n\r\n    socket.emit('MESSAGE', obj);\r\n  }, []);\r\n  useEffect(() => {\r\n    socket.on('NEW_MESSAGE', (msg) => {\r\n      setMessages((prev) => prev.concat(msg));\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { data } = await axios.get('/book/chat');\r\n      console.log('DATA AXIOS :', data);\r\n    })();\r\n  }, []);\r\n\r\n  return { messages, addMessage };\r\n};\r\n\r\nexport default useSocketChat;\r\n","import React, { ChangeEvent, useCallback, useState, useRef, useEffect, FC } from 'react';\r\nimport Block from 'components/Block';\r\nimport { createUseStyles } from 'react-jss';\r\nimport { Avatar, Button, Comment, Input } from 'antd';\r\nimport useSocketChat from 'hooks/useSocketChat';\r\n\r\nconst { TextArea } = Input;\r\n\r\ntype PropsTypes = {\r\n  className?: string;\r\n};\r\n\r\nconst Sidebar: FC<PropsTypes> = ({ className = '' }) => {\r\n  const styles = useStyles();\r\n  const [formValue, setFormValue] = useState('');\r\n  const { messages, addMessage } = useSocketChat();\r\n  const myRef = useRef(null);\r\n\r\n  const onChangeHandler = (event: ChangeEvent<HTMLTextAreaElement>) => {\r\n    setFormValue(event.target.value);\r\n  };\r\n\r\n  const onClick = useCallback(() => {\r\n    if (formValue) {\r\n      addMessage(formValue);\r\n    }\r\n    setFormValue('');\r\n  }, [formValue, addMessage]);\r\n\r\n  useEffect(() => {\r\n    if (myRef.current) {\r\n      // @ts-ignore\r\n      myRef.current.scrollTo(0, 99999);\r\n    }\r\n  }, [messages]);\r\n\r\n  return (\r\n    <Block className={`${styles.sidebar} ${className}`}>\r\n      <div className={styles.wrap}>\r\n        <strong className={styles.header}>Online Chat</strong>\r\n        <div className={styles.main} ref={myRef}>\r\n          {messages.map((item, index) => (\r\n            <Comment\r\n              // eslint-disable-next-line react/no-array-index-key\r\n              key={item.id + index}\r\n              author={item.author}\r\n              avatar={\r\n                // eslint-disable-next-line react/jsx-wrap-multilines\r\n                <Avatar\r\n                  src={item.avatar || 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png'}\r\n                  alt={item.author || 'salsa'}\r\n                />\r\n              }\r\n              content={<p>{item.message}</p>}\r\n            />\r\n          ))}\r\n        </div>\r\n        <div>\r\n          <TextArea\r\n            placeholder=\"message\"\r\n            autoSize={{ minRows: 1, maxRows: 4 }}\r\n            value={formValue}\r\n            onChange={onChangeHandler}\r\n          />\r\n          <Button type=\"primary\" onClick={onClick} style={{ marginTop: '5px' }}>\r\n            Отправить\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Block>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles({\r\n  sidebar: {\r\n    position: 'fixed',\r\n    right: '0',\r\n    minWidth: '350px',\r\n    height: 'calc(100vh - 122px)', // minus header = 82 i margin block top=20 bottom=20 = \"122px\"\r\n    marginLeft: '0 !important',\r\n  },\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    fontSize: '1.2rem',\r\n  },\r\n  wrap: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n  },\r\n  main: {\r\n    height: '100%',\r\n    overflowX: 'hidden',\r\n    overflowY: 'scroll',\r\n    '&::-webkit-scrollbar': {\r\n      width: '10px',\r\n    },\r\n    '&::-webkit-scrollbar-track': {\r\n      boxShadow: '5px 5px 5px -5px rgba(34, 60, 80, 0.2) inset',\r\n      backgroundColor: '#f9f9fd',\r\n      borderRadius: '10px',\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n      borderRadius: '10px',\r\n      background: 'linear-gradient(180deg, #00c6fb, #005bea)',\r\n    },\r\n  },\r\n});\r\n\r\nexport default Sidebar;\r\n","export default (body: object): string => {\r\n  if (typeof body !== 'object') {\r\n    return '';\r\n  }\r\n\r\n  return Object.keys(body).reduce((accumulator, item) => {\r\n    if (!body[item]) {\r\n      return accumulator;\r\n    }\r\n    const value = body[item];\r\n\r\n    return `${accumulator}${accumulator === '' ? '?' : '&'}${item}=${value}`;\r\n  }, '');\r\n};\r\n","/* eslint-disable no-underscore-dangle */\r\n/* eslint-disable @typescript-eslint/no-shadow */\r\nimport React, { useEffect, FC } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Pagination, BackTop } from 'antd';\r\nimport { createUseStyles } from 'react-jss';\r\nimport { Article, Loader } from 'components';\r\nimport { Actions } from 'redux/action/books';\r\nimport { getBooks, getBooksIsLoader, getBooksParams } from 'redux/selectors';\r\nimport { BookType } from 'types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport getParams from 'helpers/getParams';\r\n\r\ntype PropsTypes = {\r\n  className?: string;\r\n};\r\n\r\nconst BooksScreen: FC<PropsTypes> = ({ className = '' }) => {\r\n  const dispatch = useDispatch();\r\n  const styles = useStyles();\r\n  const books = useSelector(getBooks);\r\n  const { page, search, totalPage } = useSelector(getBooksParams);\r\n  const isLoader = useSelector(getBooksIsLoader);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const { search } = history.location;\r\n    const params = queryString.parse(search, {\r\n      parseNumbers: true,\r\n      parseBooleans: true,\r\n    });\r\n    dispatch(Actions.setParams(params));\r\n  }, [history.location, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (page !== 0 || search) {\r\n      history.push({\r\n        search: getParams({ page, search }),\r\n      });\r\n    }\r\n  }, [page, search, history]);\r\n\r\n  useEffect(() => {\r\n    dispatch(Actions.requestBook());\r\n  }, [page, search, dispatch]);\r\n\r\n  const onChangePage = (valuePage: number) => {\r\n    dispatch(Actions.setParams({ page: valuePage }));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={className}\r\n      style={{\r\n        position: 'relative',\r\n        minHeight: 'calc(100vh - 82px)', // TODO: 82px height Header\r\n        width: '100%',\r\n      }}\r\n    >\r\n      {isLoader ? (\r\n        <Loader className={styles.loader} />\r\n      ) : books.length ? (\r\n        <>\r\n          {books.map((book: BookType) => (\r\n            <Article key={book._id} {...book} />\r\n          ))}\r\n          ;\r\n          {totalPage > 5 && (\r\n            <Pagination\r\n              style={{ textAlign: 'center', padding: '30px 0' }}\r\n              current={page || 1}\r\n              defaultCurrent={1}\r\n              defaultPageSize={5}\r\n              total={totalPage}\r\n              onChange={onChangePage}\r\n            />\r\n          )}\r\n          ;\r\n        </>\r\n      ) : (\r\n        <div className={styles.error}>Нечего не наедено</div>\r\n      )}\r\n      <BackTop />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles({\r\n  loader: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n  },\r\n  error: {\r\n    height: '100%',\r\n    textAlign: 'center',\r\n    fontSize: '30px',\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nexport default BooksScreen;\r\n","import React from 'react';\r\nimport { createUseStyles } from 'react-jss';\r\nimport Sidebar from 'components/Sidebar';\r\nimport BooksScreen from './BooksScreen';\r\n\r\n// TODO: убирать компонент Sidebar при ширине <1200\r\n\r\nconst Home = () => {\r\n  const styles = useStyles();\r\n  return (\r\n    <div className={styles.home}>\r\n      <BooksScreen className={styles.books} />\r\n      <Sidebar className={styles.sidebar} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles({\r\n  home: {\r\n    display: 'flex',\r\n  },\r\n  books: {\r\n    paddingRight: '370px', // height sidebar\r\n    '@media (max-width: 1199px)': {\r\n      paddingRight: '0',\r\n    },\r\n  },\r\n  sidebar: {\r\n    '@media (max-width: 1199px)': {\r\n      display: 'none',\r\n    },\r\n  },\r\n});\r\n\r\nexport default Home;\r\n","import routers from 'const/routers';\r\nimport React, { FC } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getAuth } from 'redux/selectors';\r\n\r\ninterface IPublicRoute {\r\n  component: () => any;\r\n  exact?: boolean;\r\n  path: string;\r\n  url?: string;\r\n}\r\n\r\nconst PublicRoute: FC<IPublicRoute> = ({ component: Component, ...rest }) => {\r\n  const isAuth = useSelector(getAuth);\r\n  if (!isAuth) {\r\n    return <Route exact={rest.exact} path={rest.path} render={() => <Component />} />;\r\n  }\r\n  return <Redirect to={routers.getBase()} />;\r\n};\r\n\r\nexport default PublicRoute;\r\n","import React, { FC } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport routers from 'const/routers';\r\nimport { getAuth } from 'redux/selectors';\r\nimport { useSelector } from 'react-redux';\r\n\r\ntype PrivateRouteType = {\r\n  component: () => any;\r\n  exact?: boolean;\r\n  path: string;\r\n};\r\n\r\nconst PrivateRoute: FC<PrivateRouteType> = ({ component: Component, ...rest }) => {\r\n  const isAuth = useSelector(getAuth);\r\n  if (!isAuth) {\r\n    return <Redirect to={routers.getSignin()} />;\r\n  }\r\n  return <Route exact={rest.exact} path={rest.path} render={() => <Component />} />;\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { lazy, Suspense } from 'react';\r\nimport { Switch, Redirect, Route } from 'react-router';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Layout } from 'components';\r\nimport Home from 'page/Home';\r\nimport routers from 'const/routers';\r\nimport Loader from 'components/Loader';\r\nimport PublicRoute from './PublicRoute';\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nconst Signin = lazy(() => import('page/Signin'));\r\nconst Signup = lazy(() => import('page/Signup'));\r\nconst Profile = lazy(() => import('page/Profile'));\r\nconst AddBook = lazy(() => import('page/AddBook'));\r\n\r\nconst AppRouters = () => (\r\n  <Router>\r\n    <Layout>\r\n      <Suspense fallback={<Loader />}>\r\n        <Switch>\r\n          <PublicRoute exact path={routers.getSignin()} component={() => <Signin />} />\r\n          <PublicRoute exact path={routers.getSignup()} component={() => <Signup />} />\r\n          <PrivateRoute exact path={routers.getAddBook()} component={() => <AddBook />} />\r\n          <PrivateRoute exact path={routers.getProfile()} component={() => <Profile />} />\r\n          <Route path={routers.getBase()} component={() => <Home />} />\r\n          <Route path=\"*\">\r\n            <Redirect to={routers.getBase()} />\r\n          </Route>\r\n        </Switch>\r\n      </Suspense>\r\n    </Layout>\r\n  </Router>\r\n);\r\n\r\nexport default AppRouters;\r\n","import { getLanguage } from 'helpers/token';\r\nimport i18n from 'i18next';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport backend from 'i18next-http-backend';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport en from './en.json';\r\nimport ru from './ru.json';\r\n\r\ni18n\r\n  .use(backend)\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    lng: getLanguage() || 'ru',\r\n    fallbackLng: ['en', 'ru'],\r\n    debug: process.env.NODE_ENV !== 'production',\r\n    resources: {\r\n      en: {\r\n        translation: en,\r\n      },\r\n      ru: {\r\n        translation: ru,\r\n      },\r\n    },\r\n    detection: {\r\n      order: ['localStorage'],\r\n      caches: ['localStorage'],\r\n    },\r\n    interpolation: {\r\n      escapeValue: false,\r\n    },\r\n  });\r\n\r\n// изменяем язык в моменте при изменении языка в i18n и загружаем выбранный язык\r\n// i18n.on('languageChanged', (lng) => {\r\n// });\r\n","export const SetSettings = (settings: object) => ({\r\n  type: 'SETTINGS@SET_DATA',\r\n  payload: settings,\r\n});\r\n","import React, { useCallback } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { SetSettings } from 'redux/action/settings';\r\n\r\nconst StalerScreen = ({ children }: any) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const resizeHandler = useCallback(() => {\r\n    const screenDimensions = {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n    };\r\n    dispatch(SetSettings(screenDimensions));\r\n  }, [dispatch]);\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener('resize', resizeHandler);\r\n    return () => window.removeEventListener('resize', resizeHandler);\r\n  }, [resizeHandler]);\r\n\r\n  React.useEffect(() => {\r\n    const screenDimensions = {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n    };\r\n    dispatch(SetSettings(screenDimensions));\r\n  }, [dispatch]);\r\n\r\n  return children;\r\n};\r\n\r\nexport default StalerScreen;\r\n","import produce from 'immer';\r\nimport { ActionsTypes } from 'redux/action/audioPlayer';\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\nconst initialState = {\r\n  id: '',\r\n  item: '',\r\n  isPlay: false,\r\n};\r\n\r\nconst audioReducer = (state = initialState, action: ActionsTypes): InitialStateType =>\r\n  produce(state, (draft) => {\r\n    switch (action.type) {\r\n      case 'AUDIO@SET_ID':\r\n        draft.id = action.payload;\r\n        break;\r\n      case 'AUDIO@SET_ITEM':\r\n        draft.item = action.payload;\r\n        break;\r\n      case 'AUDIO@IS_PLAY':\r\n        draft.isPlay = action.payload;\r\n        break;\r\n      default:\r\n    }\r\n  });\r\n\r\nexport { audioReducer };\r\n","import produce from 'immer';\r\nimport { getToken } from 'helpers/token';\r\nimport { ActionsTypes } from 'redux/action/user';\r\n\r\ntype initialStateType = typeof initialState;\r\nconst initialUser = { id: '', avatar: '', fullname: '' };\r\nexport type ProfileTypes = {\r\n  id: string;\r\n  avatar: string;\r\n  fullname: string;\r\n};\r\nconst initialState = {\r\n  isAuth: !!getToken(),\r\n  data: initialUser as ProfileTypes,\r\n  isLoading: false,\r\n};\r\n\r\nconst userReducer = (state = initialState, action: ActionsTypes): initialStateType =>\r\n  produce(state, (draft) => {\r\n    switch (action.type) {\r\n      case 'USER@IS_AUTH':\r\n        draft.isAuth = action.payload;\r\n        break;\r\n      case 'USER@SET_DATA':\r\n        draft.data = action.payload;\r\n        break;\r\n      case 'USER@LOG_OUT':\r\n        draft.data = initialUser;\r\n        break;\r\n      case 'USER@LOADER':\r\n        draft.isLoading = action.payload;\r\n        break;\r\n      default:\r\n    }\r\n  });\r\n\r\nexport { userReducer };\r\n","import produce from 'immer';\r\nimport { ActionsTypes } from 'redux/action/comments';\r\nimport { CommentsType } from 'types';\r\n\r\ntype initialStateType = typeof initialState;\r\nconst initialState = {\r\n  id: '',\r\n  items: [] as Array<CommentsType>,\r\n  isShow: false,\r\n  isLoader: false,\r\n};\r\n\r\nconst commentsReducer = (state = initialState, action: ActionsTypes): initialStateType =>\r\n  produce(state, (draft) => {\r\n    switch (action.type) {\r\n      case 'COMMENTS@IS_SHOW':\r\n        draft.isShow = action.payload;\r\n        break;\r\n      case 'COMMENTS@SET_ID':\r\n        draft.id = action.payload;\r\n        break;\r\n      case 'COMMENTS@SET_ITEM':\r\n        draft.items = action.payload;\r\n        break;\r\n      case 'COMMENTS@IS_LOADER':\r\n        draft.isLoader = action.payload;\r\n        break;\r\n      case 'COMMENTS@ADD_ITEM':\r\n        draft.items.push(action.payload);\r\n        break;\r\n      default:\r\n    }\r\n  });\r\n\r\nexport { commentsReducer };\r\n","import produce from 'immer';\r\nimport { ActionsTypes } from 'redux/action/books';\r\nimport { BookType } from 'types';\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst initialState = {\r\n  items: [] as Array<BookType>,\r\n  params: {\r\n    page: 0,\r\n    search: '',\r\n    totalPage: 0,\r\n  },\r\n  isLoader: false,\r\n};\r\n\r\nconst booksReducer = (state = initialState, action: ActionsTypes): InitialStateType =>\r\n  produce(state, (draft) => {\r\n    switch (action.type) {\r\n      case 'BOOKS@SET_ITEMS':\r\n        draft.items = action.payload;\r\n        break;\r\n      case 'BOOKS@IS_LOADER':\r\n        draft.isLoader = action.payload;\r\n        break;\r\n      case 'BOOKS@PARAMS':\r\n        draft.params = { ...state.params, ...action.payload };\r\n        break;\r\n      case 'BOOKS@ADD_COMMENT': {\r\n        // eslint-disable-next-line no-underscore-dangle\r\n        const index = draft.items.findIndex((el) => el._id === action.payload);\r\n        draft.items[index].comments.push(action.payload);\r\n        break;\r\n      }\r\n      case 'BOOKS@ADD_COMMENT_ERROR': {\r\n        // eslint-disable-next-line no-underscore-dangle\r\n        const index = draft.items.findIndex((el) => el._id === action.payload);\r\n        draft.items[index].comments.pop();\r\n        break;\r\n      }\r\n      case 'BOOKS@SET_LIKE': {\r\n        const { bookId, status } = action.payload;\r\n        // eslint-disable-next-line no-underscore-dangle\r\n        const index = draft.items.findIndex((el) => el._id === bookId);\r\n        const { count } = draft.items[index].likes;\r\n        if (status) {\r\n          draft.items[index].likes.count = count + 1;\r\n        } else {\r\n          draft.items[index].likes.count = count - 1;\r\n        }\r\n        draft.items[index].likes.status = status;\r\n        break;\r\n      }\r\n      default:\r\n    }\r\n  });\r\n\r\nexport { booksReducer };\r\n","type initialStateType = typeof initialState;\r\nconst initialState = {\r\n  width: 0,\r\n  height: 0,\r\n};\r\n\r\nconst settingsReducer = (state = initialState, action: any): initialStateType => {\r\n  switch (action.type) {\r\n    case 'SETTINGS@SET_DATA':\r\n      return { ...state, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport { settingsReducer };\r\n","/*eslint-disable */\r\nimport { combineReducers } from 'redux';\r\nimport { audioReducer } from './audio';\r\nimport { userReducer } from './user';\r\nimport { commentsReducer } from './comments';\r\nimport { booksReducer } from './books';\r\nimport { settingsReducer } from './settings';\r\n\r\nconst rootReducer = combineReducers({\r\n  settings: settingsReducer,\r\n  user: userReducer,\r\n  audio: audioReducer,\r\n  comments: commentsReducer,\r\n  books: booksReducer,\r\n});\r\n\r\nexport type StateType = ReturnType<typeof rootReducer>;\r\n\r\ntype PropertiesTypes<T> = T extends { [key: string]: infer U } ? U : never;\r\n\r\nexport type InferActionsTypes<T extends { [key: string]: (...arg: any[]) => any }> = ReturnType<PropertiesTypes<T>>;\r\n\r\nexport default rootReducer;\r\n","/* eslint-disable */\r\nimport { AxiosResponse } from 'axios';\r\nimport { BookType } from \"types\";\r\nimport { getToken } from 'helpers/token';\r\nimport axios from './';\r\nimport getParams from 'helpers/getParams';\r\n\r\nconst getHeadersToken = () => ({\r\n  headers: {\r\n    authorization: `Bearer ${getToken()}`,\r\n  },\r\n});\r\nexport type ResBooks = {\r\n  books: Array<BookType>;\r\n  total: number;\r\n};\r\nexport type ResComment = {\r\n  _id: string;\r\n  author: string;\r\n  text: string;\r\n};\r\n\r\nconst fetchBooks = (params: object): Promise<AxiosResponse<ResBooks>> => axios.get(`/book${getParams(params)}`, getHeadersToken())\r\n\r\n\r\nconst setBook = (book: any): Promise<AxiosResponse<ResBooks>> => axios.post(`/book/add`, book, getHeadersToken());\r\n\r\nconst setBookComment = (postData: any): Promise<AxiosResponse<any>> => axios.post(`/book/addcomment`, postData, {\r\n  headers: {\r\n    authorization: `Bearer ${getToken()}`\r\n  }\r\n});\r\n\r\nconst getBookComment = (id: string): Promise<AxiosResponse<Array<ResComment>>> => axios.post(`/book/comment`, { id }, getHeadersToken());\r\nconst setLike = (id: string): Promise<AxiosResponse<{ bookId: string, status: boolean }>> => axios.post(`/book/like`, { id }, getHeadersToken());\r\n\r\nexport { fetchBooks, setBook, setBookComment, getBookComment, setLike };\r\n","import { notification } from 'antd';\r\n\r\ntype Types = {\r\n  text: string;\r\n  type?: 'info' | 'error' | 'warning' | 'success';\r\n  title?: string;\r\n  duration?: number;\r\n};\r\nexport const openNotification = ({ text, type = 'info', title, duration = 3 }: Types) =>\r\n  notification[type]({\r\n    message: title,\r\n    description: text,\r\n    duration,\r\n  });\r\n","/*eslint-disable */\r\nimport { Actions } from 'redux/action/books';\r\nimport { fetchBooks, setLike } from 'api/book';\r\nimport { openNotification } from 'helpers/openNotification';\r\nimport { put, call, takeEvery, select } from 'redux-saga/effects';\r\nimport { AddBookType } from 'types';\r\nimport { getAuth, getBooksParams } from 'redux/selectors';\r\n// import { isEqual } from 'lodash'\r\n\r\nfunction* workerRequestBook() {\r\n  const params: object = yield select(getBooksParams);\r\n  try {\r\n    yield put(Actions.setBooksLoader(true));\r\n    const { data } = yield call(fetchBooks, params);\r\n    yield put(Actions.setBooks(data.books));\r\n    yield put(Actions.setParams({ totalPage: data.total }));\r\n  } catch (e) {\r\n    openNotification({\r\n      type: 'error',\r\n      text: 'Произошла ошибка попробуйте ещё',\r\n    });\r\n  } finally {\r\n    yield put(Actions.setBooksLoader(false));\r\n  }\r\n}\r\n\r\nfunction fakeApi(time: number) {\r\n  return new Promise((resolve) => setTimeout(() => resolve({ data: { name: '', author: '', description: '' }, time })));\r\n}\r\n\r\nfunction* workerRequestAddBook(action: { type: string; payload: AddBookType }) {\r\n  try {\r\n    const data: AddBookType = yield call(fakeApi, 2000);\r\n    yield put(Actions.responseAddBook(data));\r\n  } catch (e) {\r\n    console.log('workerRequestAddBook :', e.message);\r\n  }\r\n}\r\nfunction* workerRequestAddLike(action: { type: string; payload: any }) {\r\n  const isAuth: boolean = yield select(getAuth);\r\n  if (!isAuth) {\r\n    return openNotification({\r\n      title: 'Ошибка',\r\n      text: 'Только авторизованные пользователи могут ставить лайки',\r\n      type: 'warning',\r\n    });\r\n  }\r\n  try {\r\n    const { data } = yield call(setLike, action.payload.id);\r\n    debugger\r\n    yield put(Actions.setLike(data));\r\n  } catch (e) {\r\n    openNotification({\r\n      type: 'error',\r\n      text: 'Произошла ошибка попробуйте ещё',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* sagaWatcherBook() {\r\n  yield takeEvery('BOOKS@REQUEST_BOOK', workerRequestBook);\r\n  yield takeEvery('BOOKS@REQUEST_ADD_BOOK', workerRequestAddBook);\r\n  yield takeEvery('BOOKS@REQUEST_ADD_LIKE', workerRequestAddLike);\r\n}\r\n","/*eslint-disable */\r\nimport { getBookComment, setBookComment } from 'api/book';\r\nimport { openNotification } from 'helpers/openNotification';\r\nimport { Actions as ActionsBooks } from 'redux/action/books';\r\nimport { call, put, select, takeEvery } from 'redux-saga/effects';\r\nimport { getAuth, getCommentsCount } from 'redux/selectors';\r\nimport { Actions } from 'redux/action/comments';\r\n\r\nfunction* sagaWorkerComment(action: { type: string; payload: string }) {\r\n  const isAuth: boolean = yield select(getAuth);\r\n  if (!isAuth) {\r\n    openNotification({\r\n      title: 'Ошибка',\r\n      text: 'Только авторизованные пользователи могут оставлять коментарии',\r\n      type: 'warning',\r\n    });\r\n    const countMessage: number = yield select(getCommentsCount);\r\n\r\n    if (countMessage < 0) {\r\n      return openNotification({\r\n        title: 'Ошибкa',\r\n        text: 'Коментарий нет, ',\r\n        type: 'warning',\r\n      });\r\n    }\r\n  }\r\n\r\n  try {\r\n    yield put(Actions.isShowComments(true));\r\n    yield put(Actions.isLoader(true));\r\n    yield put(Actions.setCommentId(action.payload));\r\n    const { data } = yield call(getBookComment, action.payload);\r\n    yield put(Actions.setComments(data));\r\n    yield put(Actions.isLoader(false));\r\n  } catch (e) {\r\n    openNotification({\r\n      type: 'error',\r\n      text: 'Произошла ошибка попробуйте ещё',\r\n    });\r\n    yield put(Actions.isShowComments(false));\r\n    yield put(Actions.isLoader(false));\r\n  }\r\n}\r\n\r\nfunction* sagaWorkerAddComment(action: any) {\r\n  const { comments } = yield select();\r\n  const createComment = {\r\n    bookId: comments.id,\r\n    text: action.payload,\r\n  };\r\n  try {\r\n    const { data } = yield call(setBookComment, createComment);\r\n    yield put(Actions.addComment(data));\r\n    yield put(ActionsBooks.addCountBook(comments.id));\r\n  } catch (e) {\r\n    openNotification({\r\n      type: 'error',\r\n      text: 'Произошла ошибка попробуйте при отправки сообщения ',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* sagaWatcherComment() {\r\n  yield takeEvery('COMMENT@REQUEST_ADD_ITEM', sagaWorkerAddComment);\r\n  yield takeEvery('COMMENT@REQUEST_ITEM', sagaWorkerComment);\r\n}\r\n","/* eslint-disable */\r\nimport { AxiosResponse } from 'axios';\r\nimport { getToken } from 'helpers/token';\r\nimport axios from './';\r\n\r\nexport type UserDate = {\r\n  id: string;\r\n  avatar: string;\r\n  fullname: string;\r\n}\r\n\r\nexport type ResponseAuth = {\r\n  token: string;\r\n  user: UserDate;\r\n}\r\nexport type signInType = {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst getMe = (): Promise<AxiosResponse<ResponseAuth>> => axios.get('/user/getme', {\r\n  headers: {\r\n    authorization: `Bearer ${getToken()}`\r\n  }\r\n});\r\nconst signIn = (postData: signInType): Promise<AxiosResponse<ResponseAuth>> => axios.post('/user/signin', postData, {\r\n  headers: {\r\n    authorization: `Bearer ${getToken()}`\r\n  }\r\n});\r\nconst signUp = (postData: any): Promise<AxiosResponse<ResponseAuth>> => axios.post('/user/signup', postData, {\r\n  headers: {\r\n    authorization: `Bearer ${getToken()}`\r\n  }\r\n});\r\nconst savePhoto = (photoFile: any): Promise<AxiosResponse<any>> => {\r\n  const formData = new FormData();\r\n  formData.append(\"image\", photoFile);\r\n  return axios.post('user/photo', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n      authorization: `Bearer ${getToken()}`\r\n    }\r\n  });\r\n}\r\n\r\n\r\nexport { getMe, signIn, signUp, savePhoto };\r\n","import Actions from 'redux/action/user';\r\nimport { openNotification } from 'helpers/openNotification';\r\nimport { put, call, takeEvery } from 'redux-saga/effects';\r\nimport { removeToken, setToken } from 'helpers/token';\r\nimport { LoginFormType } from 'types';\r\nimport { getMe, savePhoto, signIn, signUp } from 'api/user';\r\n\r\nfunction* workerLogout() {\r\n  yield removeToken();\r\n  yield put(Actions.setIsAuth(false));\r\n}\r\n\r\nfunction* workerAuthorization(action: { type: string; payload: LoginFormType }) {\r\n  yield put(Actions.isLoader(true));\r\n  try {\r\n    const { data } = yield call(signIn, action.payload);\r\n    yield setToken(data.token);\r\n    yield put(Actions.setUserData(data.user));\r\n    yield put(Actions.setIsAuth(true));\r\n  } catch (e) {\r\n    openNotification({\r\n      type: 'error',\r\n      title: 'Authorization',\r\n      text: e.response.data.message,\r\n    });\r\n  } finally {\r\n    yield put(Actions.isLoader(false));\r\n  }\r\n}\r\n\r\nfunction* workerRegistration(action: any) {\r\n  yield put(Actions.isLoader(true));\r\n  try {\r\n    const { data } = yield call(signUp, action.payload);\r\n    yield setToken(data.token);\r\n    yield put(Actions.setUserData(data.user));\r\n    yield put(Actions.setIsAuth(true));\r\n  } catch (e) {\r\n    openNotification({\r\n      type: 'error',\r\n      title: 'Registration',\r\n      text: e.response.data.message,\r\n    });\r\n  } finally {\r\n    yield put(Actions.isLoader(false));\r\n  }\r\n}\r\n\r\nfunction* workerProfile() {\r\n  try {\r\n    const { data } = yield call(getMe);\r\n    yield setToken(data.token);\r\n    yield put(Actions.setUserData(data.user));\r\n    yield put(Actions.setIsAuth(true));\r\n  } catch (e) {\r\n    yield put(Actions.logOut());\r\n  }\r\n}\r\n\r\nfunction* workerUpdateAvatar(action: any) {\r\n  try {\r\n    const { data } = yield call(savePhoto, action.payload);\r\n    yield put(Actions.setUserData(data.user));\r\n  } catch (e) {\r\n    openNotification({\r\n      type: 'error',\r\n      title: 'Avatar',\r\n      text: 'ошибка при сохранение авата, попробуйте ещо раз',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* watcherUser() {\r\n  yield takeEvery('USER@LOG_OUT', workerLogout);\r\n  yield takeEvery('USER@AUTHORIZATION', workerAuthorization);\r\n  yield takeEvery('USER@REGISTRATION', workerRegistration);\r\n  yield takeEvery('USER@PROFILE', workerProfile);\r\n  yield takeEvery('USER@UPDATE_AVATAR', workerUpdateAvatar);\r\n}\r\n","import { all } from 'redux-saga/effects';\r\nimport { sagaWatcherBook } from './books';\r\nimport { sagaWatcherComment } from './comments';\r\nimport { watcherUser } from './user';\r\n\r\nexport function* rootWatcher() {\r\n  yield all([sagaWatcherBook(), sagaWatcherComment(), watcherUser()]);\r\n}\r\n","/*eslint-disable */\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer from './reducer';\r\nimport { rootWatcher } from './saga';\r\nimport logger from 'redux-logger';\r\n\r\nconst saga = createSagaMiddleware();\r\n\r\nconst middleware = [thunk, saga, logger];\r\nconst rootStore = createStore(rootReducer, applyMiddleware(...middleware));\r\n\r\nsaga.run(rootWatcher);\r\n\r\nexport default rootStore;\r\n","import React from 'react';\r\nimport './style/App.scss';\r\nimport { Provider } from 'react-redux';\r\nimport AppRouters from 'components/AppRouter';\r\nimport Actions from 'redux/action/user';\r\nimport 'localization';\r\nimport StalerScreen from 'settings';\r\nimport { createUseStyles } from 'react-jss';\r\nimport store from './redux/store';\r\n\r\n// TODO: когда добавишь на сервере сохранение в профиле книг удалить dispatch\r\n// store.dispatch(ActionsBooks.requestBook())\r\nstore.dispatch(Actions.userProfile());\r\n\r\nconst App = () => {\r\n  useStyles();\r\n  return (\r\n    <Provider store={store}>\r\n      <StalerScreen>\r\n        <AppRouters />\r\n      </StalerScreen>\r\n    </Provider>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles({\r\n  '@global': {\r\n    '*': {\r\n      boxSizing: 'border-box',\r\n      margin: 0,\r\n      padding: 0,\r\n    },\r\n\r\n    body: {\r\n      minHeight: '100vh',\r\n      fontFamily: 'LatoRegular, sans-serif',\r\n      fontSize: '13px',\r\n      '&::-webkit-scrollbar': {\r\n        width: '10px',\r\n      },\r\n      '&::-webkit-scrollbar-track': {\r\n        boxShadow: '5px 5px 5px -5px rgba(34, 60, 80, 0.2) inset',\r\n        backgroundColor: '#f9f9fd',\r\n        borderRadius: '10px',\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        borderRadius: '10px',\r\n        background: 'linear-gradient(180deg, #00c6fb, #005bea)',\r\n      },\r\n    },\r\n    h1: {\r\n      margin: '15px 0',\r\n    },\r\n    h2: {\r\n      fontFamily: 'MullerBold, sans-serif',\r\n      fontSize: '40px',\r\n      fontStyle: 'normal',\r\n      fontWeight: '700',\r\n      lineHeight: '46px',\r\n    },\r\n    h3: {\r\n      fontFamily: 'MullerBold, sans-serif',\r\n    },\r\n    h4: {\r\n      margin: '10px 0',\r\n    },\r\n    a: {\r\n      fontFamily: 'MullerRegular, sans-serif',\r\n      textDecoration: 'none',\r\n      color: 'inherit',\r\n      '&:focus': {\r\n        outline: 'none',\r\n      },\r\n    },\r\n    button: {\r\n      fontFamily: 'MullerRegular, sans-serif',\r\n      background: 'none',\r\n      border: 0,\r\n      '&:focus': {\r\n        outline: 'none',\r\n      },\r\n    },\r\n    input: {\r\n      fontFamily: 'LatoRegular, sans-serif',\r\n      fontSize: '20px',\r\n      border: 0,\r\n      '&:focus': {\r\n        outline: 'none',\r\n      },\r\n      '&:invalid': {\r\n        boxShadow: 'none',\r\n      },\r\n    },\r\n    textarea: {\r\n      fontFamily: 'LatoRegular, sans-serif',\r\n      fontSize: '20px',\r\n      border: 0,\r\n      '&:focus': {\r\n        outline: 'none',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nexport const useGlobalStyles = createUseStyles({\r\n  container: {\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n    padding: '0 10px',\r\n  },\r\n});\r\n\r\nexport default App;\r\n","export default __webpack_public_path__ + \"static/media/play.b82a9267.svg\";","export default __webpack_public_path__ + \"static/media/stop.a64e0090.svg\";","import './Style.scss';\r\nimport React from 'react';\r\nimport playIcon from 'assets/img/play.svg';\r\nimport stopIcon from 'assets/img/stop.svg';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Actions } from 'redux/action/audioPlayer';\r\nimport { getAudioId, getPlay } from 'redux/selectors';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst pathMp3 = require('assets/audio/as.mp3');\r\n\r\ntype Props = {\r\n  bookId: string;\r\n};\r\n\r\nconst ButtonPlay: React.FC<Props> = ({ bookId }) => {\r\n  const audioPlayerId = useSelector(getAudioId);\r\n  const { t } = useTranslation();\r\n  const isPlay = useSelector(getPlay);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClick = () => {\r\n    if (bookId === audioPlayerId) {\r\n      dispatch(Actions.isPlay(!isPlay));\r\n      return;\r\n    }\r\n    // TODO\r\n    dispatch(Actions.setAudioBookId(bookId));\r\n    dispatch(Actions.setAudio(pathMp3.default));\r\n    dispatch(Actions.isPlay(true));\r\n  };\r\n\r\n  return (\r\n    <div onClick={handleClick} className=\"audio\">\r\n      {bookId === audioPlayerId && isPlay ? <img src={stopIcon} alt=\"stop\" /> : <img src={playIcon} alt=\"play\" />}\r\n      <span className=\"audio-play\">{t('article.play')}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ButtonPlay;\r\n","import { StateType } from 'redux/reducer';\r\n\r\nconst getAuth = (state: StateType) => state.user.isAuth;\r\nconst getAuthLoading = (state: StateType) => state.user.isLoading;\r\n\r\n// export const primitiveSelector = (state: object, resultKey: string, initialValue?: any) =>\r\n//   getEntities(state)[resultKey] ?? initialValue;\r\n\r\nconst getAvatar = (state: StateType) => state.user.data?.avatar;\r\nconst getUserName = (state: StateType) => state.user.data?.fullname;\r\n\r\nconst getAudioId = (state: StateType) => state.audio.id;\r\nconst getPlay = (state: StateType) => state.audio.isPlay;\r\nconst getAudioSrc = (state: StateType) => state.audio.item;\r\n\r\nconst getComments = (state: StateType) => state.comments.items;\r\nconst getCommentsShow = (state: StateType) => state.comments.isShow;\r\nconst getCommentsLoader = (state: StateType) => state.comments.isLoader;\r\nconst getCommentsCount = (state: StateType) => state.comments.items.length;\r\n\r\nconst getBooks = (state: StateType) => state.books.items;\r\nconst getBooksParams = (state: StateType) => state.books.params;\r\nconst getBooksIsLoader = (state: StateType) => state.books.isLoader;\r\n\r\n// screen\r\nconst getScreenWidth = (state: StateType) => state.settings.width;\r\nconst getScreenHeight = (state: StateType) => state.settings.height;\r\n\r\n// const getLanguage = (state: StateType) => state.settings.\r\n\r\nexport {\r\n  getAuth,\r\n  getAuthLoading,\r\n  getAudioId,\r\n  getPlay,\r\n  getAudioSrc,\r\n  getAvatar,\r\n  getComments,\r\n  getCommentsShow,\r\n  getCommentsLoader,\r\n  getBooks,\r\n  getBooksParams,\r\n  getUserName,\r\n  getCommentsCount,\r\n  getBooksIsLoader,\r\n  getScreenWidth,\r\n  getScreenHeight,\r\n};\r\n","export default __webpack_public_path__ + \"static/media/as.75695496.mp3\";","const base = '/';\r\nconst profile = '/profile';\r\nconst signin = '/signin';\r\nconst signup = '/signup';\r\nconst addBook = '/add';\r\n\r\nexport default {\r\n  getBase: (): string => base,\r\n  getProfile: (): string => profile,\r\n  getSignin: (): string => signin,\r\n  getSignup: (): string => signup,\r\n  getAddBook: (): string => addBook,\r\n};\r\n","const TOKEN = 'X-AuthToken';\r\nconst USER_NAME = 'name';\r\nconst LANGUAGE = 'i18nextLng';\r\n\r\nconst setToken = (value: string) => localStorage.setItem(TOKEN, value);\r\nconst getToken = () => localStorage.getItem(TOKEN);\r\nconst removeToken = () => localStorage.removeItem(TOKEN);\r\n\r\nconst setUserName = (value: string) => localStorage.setItem(USER_NAME, value);\r\nconst getUserName = () => localStorage.getItem(USER_NAME);\r\nconst removeUsername = () => localStorage.removeItem(USER_NAME);\r\n\r\nconst setLanguage = (value: string) => localStorage.setItem(LANGUAGE, value);\r\nconst getLanguage = () => localStorage.getItem(LANGUAGE);\r\nconst removeLanguage = () => localStorage.getItem(LANGUAGE);\r\n\r\nexport {\r\n  setToken,\r\n  getToken,\r\n  removeToken,\r\n  setUserName,\r\n  getUserName,\r\n  removeUsername,\r\n  setLanguage,\r\n  getLanguage,\r\n  removeLanguage,\r\n};\r\n","/*eslint-disable */\r\nimport { InferActionsTypes } from 'redux/reducer';\r\nimport { LoginFormType, RegistrationFormType } from 'types';\r\nimport { ProfileTypes } from 'redux/reducer/user';\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof Actions>;\r\n\r\nconst Actions = {\r\n  isLoader: (payload: boolean) => ({\r\n    type: 'USER@LOADER',\r\n    payload\r\n  } as const),\r\n  setIsAuth: (payload: boolean) => ({\r\n    type: 'USER@IS_AUTH',\r\n    payload\r\n  } as const),\r\n  setUserData: (payload: ProfileTypes) => ({\r\n    type: 'USER@SET_DATA',\r\n    payload\r\n  } as const),\r\n  logOut: () => ({\r\n    type: 'USER@LOG_OUT',\r\n  } as const),\r\n  fetchAuthorization: (payload: LoginFormType) => ({\r\n    type: 'USER@AUTHORIZATION',\r\n    payload\r\n  } as const),\r\n  fetchRegistration: (payload: RegistrationFormType) => ({\r\n    type: 'USER@REGISTRATION',\r\n    payload\r\n  } as const),\r\n  userProfile: () => ({\r\n    type: 'USER@PROFILE',\r\n  } as const),\r\n  updateAvatar: (payload: any) => ({\r\n    type: 'USER@UPDATE_AVATAR',\r\n    payload\r\n  } as const),\r\n}\r\n\r\nexport default Actions\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n/* eslint-disable */\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","/*eslint-disable */\r\nimport { InferActionsTypes } from 'redux/reducer'\r\nimport { AddBookType, BookType } from 'types'\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof Actions>\r\n\r\nexport const Actions = {\r\n  setBooks: (payload: Array<BookType>) => ({\r\n    type: 'BOOKS@SET_ITEMS',\r\n    payload\r\n  } as const),\r\n  setParams: (payload: object) => ({\r\n    type: 'BOOKS@PARAMS',\r\n    payload\r\n  } as const),\r\n  setBooksLoader: (payload: boolean) => ({\r\n    type: 'BOOKS@IS_LOADER',\r\n    payload\r\n  } as const),\r\n  addCountBook: (payload: string) => ({\r\n    type: 'BOOKS@ADD_COMMENT',\r\n    payload\r\n  } as const),\r\n  addCommentBookError: (payload: string) => ({\r\n    type: 'BOOKS@ADD_COMMENT_ERROR',\r\n    payload\r\n  } as const),\r\n  requestBook: () => ({\r\n    type: 'BOOKS@REQUEST_BOOK',\r\n  } as const),\r\n  requestAddBook: (payload: AddBookType) => ({\r\n    type: 'BOOKS@REQUEST_ADD_BOOK',\r\n    payload\r\n  } as const),\r\n  responseAddBook: (payload: AddBookType) => ({\r\n    type: 'BOOKS@RESPONSE_ADD_BOOK',\r\n    payload\r\n  } as const),\r\n  requestAddLike: (payload: any) => ({\r\n    type: 'BOOKS@REQUEST_ADD_LIKE',\r\n    payload\r\n  } as const),\r\n  setLike: (payload: { bookId: string, status: boolean }) => ({\r\n    type: 'BOOKS@SET_LIKE',\r\n    payload\r\n  } as const)\r\n}\r\n","/*eslint-disable */\r\nimport { InferActionsTypes } from \"redux/reducer\";\r\nimport { CommentsType } from \"types\";\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof Actions>;\r\n\r\nexport const Actions = {\r\n  isShowComments: (payload: boolean) => ({\r\n    type: 'COMMENTS@IS_SHOW',\r\n    payload\r\n  } as const),\r\n  setComments: (payload: Array<CommentsType>) => ({\r\n    type: 'COMMENTS@SET_ITEM',\r\n    payload\r\n  } as const),\r\n  setCommentId: (payload: string) => ({\r\n    type: 'COMMENTS@SET_ID',\r\n    payload\r\n  } as const),\r\n  addComment: (payload: CommentsType) => ({\r\n    type: 'COMMENTS@ADD_ITEM',\r\n    payload\r\n  } as const),\r\n  isLoader: (payload: boolean) => ({\r\n    type: 'COMMENTS@IS_LOADER',\r\n    payload\r\n  } as const),\r\n  fetchComments: (payload: string) => ({\r\n    type: \"COMMENT@REQUEST_ITEM\",\r\n    payload\r\n  } as const),\r\n  fetchAddComment: (payload: string) => ({\r\n    type: \"COMMENT@REQUEST_ADD_ITEM\",\r\n    payload\r\n  } as const)\r\n}\r\n","/*eslint-disable */\r\nimport { InferActionsTypes } from \"redux/reducer\";\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof Actions>;\r\n\r\nexport const Actions = {\r\n  setAudio: (payload: string) => ({\r\n    type: 'AUDIO@SET_ITEM',\r\n    payload\r\n  } as const),\r\n  setAudioBookId: (payload: string) => ({\r\n    type: 'AUDIO@SET_ID',\r\n    payload\r\n  } as const),\r\n  isPlay: (payload: boolean) => ({\r\n    type: 'AUDIO@IS_PLAY',\r\n    payload\r\n  } as const),\r\n};\r\n// export const fetchAudio = (audioId: string) => (dispatch: Dispatch<ActionsTypes>) => {\r\n  // audioApi.getAudio(audioId).then(({ data }) => {\r\n  //   dispatch(Actions.setAudio(data.audio))\r\n  //   dispatch(Actions.setAudioLoader(false))\r\n  // })\r\n// }\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\nimport { createUseStyles } from 'react-jss';\r\n\r\ntype PropsTypes = {\r\n  className?: string;\r\n  style?: React.HTMLAttributes<HTMLDivElement>;\r\n};\r\n\r\nconst Loader: React.FC<PropsTypes> = ({ className = '', style = {} }) => {\r\n  const styles = useStyles();\r\n  return (\r\n    <div className={`${className} ${styles.loader}`} style={style}>\r\n      <Spin size=\"large\" />\r\n    </div>\r\n  );\r\n};\r\nconst useStyles = createUseStyles({\r\n  loader: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n  },\r\n});\r\n\r\nexport default Loader;\r\n"],"sourceRoot":""}